import{_ as p,u as _,h as b,aa as m,k as y,o as r,c as h,a as t,d as a,t as c,a2 as d,g as u,j as f}from"./C2egFmNW.js";const w={setup(){const{t:e}=_(),o=b();return{t:e,localePath:o}},data(){return{oneMonth:!1,twoMonth:!1,threeMonth:!1,loading:!1,cancel_loading:!1,subscription:"",form:{type:"one"}}},computed:{...m(f)},mounted(){this.fetchSubscription()},methods:{...y(f,["updateUser","logout"]),updateUserNow(){this.$axios.post("/api/auth/me").then(({data:e})=>{this.updateUser(e.user)}).catch(()=>{this.logout(),this.$router.push(this.localePath("/auth/login"))})},paynow(){this.oneMonth===!0&&(this.form.type="one"),this.twoMonth===!0&&(this.form.type="six"),this.threeMonth===!0&&(this.form.type="year"),this.loading=!0,this.$axios.post("/api/subscribe",this.form).then(({data:e})=>{this.loading=!1,e.message?this.$toast.success(e.message):window.location.href=e.checkout_url.url}).catch(()=>{this.loading=!1,this.$toast.error("Error while saving....")})},cancelNow(){this.cancel_loading=!0,this.$axios.post("/api/cancel-subscription").then(({data:e})=>{this.cancel_loading=!1,e.success&&(this.$toast.success("Subscription canceled successfully..."),this.oneMonth=!1,this.twoMonth=!1,this.threeMonth=!1,this.subscription="")}).catch(()=>{this.$toast.success("Subscription cancelation failed..."),this.cancel_loading=!1})},fetchSubscription(){this.$axios.post("/api/fetch-subscription").then(({data:e})=>{this.subscription=e.name,e.name==="monthly"&&(this.oneMonth=!0,this.twoMonth=!1,this.threeMonth=!1),e.name==="sixmonth"&&(this.oneMonth=!1,this.twoMonth=!0,this.threeMonth=!1),e.name==="yearly"&&(this.oneMonth=!1,this.twoMonth=!1,this.threeMonth=!0)})}}},M={class:"row justify-content-center"},g={class:"col-12 col-sm-8"},v={class:"fw-bold text-center me-5 pt-5"},x=t("i",{class:"fa-solid fa-arrow-left-long"},null,-1),k=[x],C={class:"row"},S={class:"col-12"},N={class:"fw-bold text-center pt-3"},z={class:"row"},T={class:"col-12 pt-3 col-sm-4"},U={class:"card-body py-4"},V=t("h5",{class:"text-center fw-bolder",style:{"font-weight":"600","font-size":"32px"}}," €2.99 ",-1),j={class:"text-center"},B={class:"col-12 pt-3 col-sm-4"},P={class:"card-body py-4"},A=t("h5",{class:"text-center fw-bolder",style:{"font-weight":"600","font-size":"32px"}}," €9.99 ",-1),E={class:"text-center"},D={class:"col-12 pt-3 col-sm-4"},I={class:"card-body py-4"},L=t("h5",{class:"text-center fw-bolder",style:{"font-weight":"600","font-size":"32px"}}," €14.99 ",-1),Y={class:"text-center"},q={class:"row pt-5"},F={class:"col-12 px-md-5 px-0"},G={class:"text-center text-muted",style:{"font-style":"normal","font-weight":"500","font-size":"14px","line-height":"20px"}},H=t("div",{class:"col-12 text-end"},null,-1),J={class:"row pt-5 justify-content-center"},K={class:"col-12 col-md-6 col-lg-6 text-center"},O=["disabled"],Q={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},R={key:0,class:"col-12 col-md-6 col-lg-6"},W=["disabled"],X={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Z(e,o,$,n,s,l){return r(),h("div",null,[t("div",M,[t("div",g,[t("h4",v,[t("span",{class:"float-start",style:{cursor:"pointer"},onClick:o[0]||(o[0]=i=>e.$router.go(-1))},k),a(" "+c(n.t("Subscription")),1)]),t("div",C,[t("div",S,[t("h4",N,c(n.t("Subscribe to increase your productivity with Mindboost")),1)])]),t("div",z,[t("div",T,[t("div",{class:d(["card",{"active-sub":s.oneMonth,"sub-card":!s.oneMonth}]),onClick:o[1]||(o[1]=i=>{s.oneMonth=!0,s.twoMonth=!1,s.threeMonth=!1})},[t("div",U,[V,t("p",j,c(n.t("1 month")),1)])],2)]),t("div",B,[t("div",{class:d(["card",{"active-sub":s.twoMonth,"sub-card":!s.twoMonth}]),onClick:o[2]||(o[2]=i=>{s.twoMonth=!0,s.oneMonth=!1,s.threeMonth=!1})},[t("div",P,[A,t("p",E,c(n.t("6 month")),1)])],2)]),t("div",D,[t("div",{class:d(["card",{"active-sub":s.threeMonth,"sub-card":!s.threeMonth}]),onClick:o[3]||(o[3]=i=>{s.threeMonth=!0,s.twoMonth=!1,s.oneMonth=!1})},[t("div",I,[L,t("p",Y,c(n.t("1 year")),1)])],2)])]),t("div",q,[t("div",F,[t("h6",G,c(n.t("You can cancel Mindboost at any time. The subscription will start automatically after the end of the trial period unless it is canceled before the end of the trial period. The total price is charged per period, price includes VAT.")),1)]),H]),t("div",J,[t("div",K,[t("button",{disabled:s.loading,type:"button",class:"btn text-white fs-5 col-12 fw-bold py-2",style:{"background-color":"#e9c046"},onClick:o[4]||(o[4]=(...i)=>l.paynow&&l.paynow(...i))},[a(c(n.t("Save Changes"))+" ",1),s.loading?(r(),h("span",Q)):u("",!0)],8,O)]),s.subscription=="monthly"||s.subscription=="sixmonth"||s.subscription=="yearly"?(r(),h("div",R,[t("button",{disabled:s.cancel_loading,class:"btn text-white fs-5 col-12 fw-bold py-2",style:{"background-color":"#dc042a"},onClick:o[5]||(o[5]=(...i)=>l.cancelNow&&l.cancelNow(...i))},[a(" Cancel Now "),s.cancel_loading?(r(),h("span",X)):u("",!0)],8,W)])):u("",!0)])])])])}const st=p(w,[["render",Z]]);export{st as default};
