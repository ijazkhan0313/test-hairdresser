import{u as f}from"./C-QmXMO2.js";import{i as r,B as d,y as c,C as h,D as v,_ as m,s as _,a5 as g,o as M,c as k,a as l,t as y}from"./C2egFmNW.js";const S={name:"MicrophoneHandler",emits:["update:attach"],setup(u,{emit:t}){const n=f(),e=r(null),s=r(!1),i=()=>(e.value||(e.value=navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1},video:!1}),s.value=!0),e.value.then(a=>(t("update:attach",a),a))),o=async()=>{e.value&&(await e.value).getTracks().forEach(p=>p.stop()),e.value=null,s.value=!1};return d(()=>{}),c(()=>n.playing,a=>{a?i():o()}),c(()=>n.playing,a=>{a?i():o()}),h(()=>{}),v(()=>{o()}),{attach:i,detach:o,isPlaying:()=>n.playing,microphoneActive:s}}},w=l("h1",null,"Microphone",-1);function B(u,t,n,e,s,i){return _((M(),k("div",null,[w,l("button",{onClick:t[0]||(t[0]=(...o)=>e.attach&&e.attach(...o))},y(e.microphoneActive?"Mikrofon trennen":"Mikrofon aktivieren"),1)],512)),[[g,!1]])}const x=m(S,[["render",B]]);export{x as M};
