import{a3 as defineStore,J as useNuxtApp,j as useUserStore}from"./C2egFmNW.js";import{c as commonjsGlobal}from"./C4iS2aBk.js";var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.3.1
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(T){return T===0?1:(T--,T|=T>>1,T|=T>>2,T|=T>>4,T|=T>>8,1+(T|=T>>16))}function TAG(T){let E=0;for(let h=0;h<T.length;h++)E=T.charCodeAt(h)+(E<<6)+(E<<16)-E;return 0|E}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(T){return _evalSrc(T)},deserializeJSON:function(T){var E=T;return typeof E=="string"&&(E={src:T}),_evalSrc(E.src)},extractOptionsFromJSON:function(T){var E=T;return typeof E=="string"&&(E=JSON.parse(T)),E.options?E.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:T=>{function E(){let j=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,r=this.getChannels();return r?j/r:0}function h(j,r){let p=j*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*r;this.requestedChannels=r,this.dataRef.requestSizeInBytes(p,!1)}function c(j,r){return this[this.getChannels()*Math.floor(r)+j]}function _(j,r){const p=this.getChannels();return j<0||j>=p||r<0||r>=this.getSize()?0:this[p*Math.floor(r)+j]}function B(j,r,p){this[this.getChannels()*Math.floor(r)+j]=p}function I(j,r,p){const L=this.getChannels();j<0||j>=L||r<0||r>=this.getSize()||(this[L*Math.floor(r)+j]=p)}function z(){return this.dataRef.channels}function o(){return this.dataRef.sampleRate}function v(j){this.dataRef.sampleRate=j}function w(){this.dataRef.clear()}function e(j){if(j!==this.dataRef.channels){let r=this.getSize();return this.clear(),this.dataRef.channels=j,this.setSize(r)}return this}function n(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let j;if(this.dataRef.isInternallyAllocated){let p=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);p/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,j=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,p)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let r=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return j?r.set(j):this.dataRef.wantsFillFlag=!0,Y(r,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&X(r),r}return this}function i(j){let r=this.getChannels();return this.requestedChannels=r,this.dataRef.requestSizeInBytes(j*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*r,!0),this.allocateIfNeeded()}function l(){this.fill&&this.fill(0)}function g(){return this.touched}function S(j){this.touched=j}function A(j){this.dataRef.setWantsFill(j)}function V(){return this.dataRef.getIndex()}function Y(j,r,p){j.dataRef=r,j.BASEARRAYVIEW=p,j.getSize=E,j.requestSize=h,j.setSize=i,j.allocateIfNeeded=n,j.setZero=l,j.clear=w,j.getChannels=z,j.getSampleRate=o,j.setWantsFill=A,j.getIndex=V,r.setZero=function(){j.setZero()},j.touched=!1,j.getTouched=g,j.setTouched=S}function X(j){j.getSample=c,j.getSampleSafe=_,j.setSample=B,j.setSampleSafe=I,j.setChannels=e,j.setSampleRate=v,j.isAudioBuffer=!0,j.requestedChannels=0}let M=function(j,r){let p;return p=j.arrayBuffer?new r(j.arrayBuffer):{},Y(p,j,r),p};(M.prototype=Object.create(null)).constructor=M;let x=function(j,r){let p=M.call(this,j,r);return X(p),p};(x.prototype=Object.create(M)).constructor=x;let N=function(j){return x.call(this,j,Float32Array)};(N.prototype=Object.create(x.prototype)).constructor=N;let u=function(j){return x.call(this,j,Float64Array)};(u.prototype=Object.create(x.prototype)).constructor=u;let F=function(j,r){let p=new r(j.dataRefs[j.current]);return p.multiRef=j,p.setCurrent=function(L){this.multiRef.setCurrent(Math.round(L))},p.getIndex=function(){return this.multiRef.getIndex()},p};F.prototype=Object.create(null),F.constructor=F;let K=function(j){return F.call(this,j,N)};(K.prototype=Object.create(F.prototype)).constructor=K;let D=function(j){return F.call(this,j,u)};(D.prototype=Object.create(F.prototype)).constructor=D;let re=function(j){return M.call(this,j,Int32Array)};(re.prototype=Object.create(M.prototype)).constructor=re;let $=function(j){return M.call(this,j,Uint8Array)};($.prototype=Object.create(M.prototype)).constructor=$,T.exports={Float32Buffer:N,Float64Buffer:u,Float32MultiBuffer:K,Float64MultiBuffer:D,IntBuffer:re,UInt8Buffer:$}},126:T=>{var E=function(){};(E.prototype=Object.create(null)).constructor=E,E.prototype.setEngineAndPatcher=function(){},E.prototype.initialize=function(){},E.prototype.getNumParameters=function(){return 0},E.prototype.setParameterValue=function(){},E.prototype.prepareToProcess=function(){},E.prototype.process=function(){},T.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new E}}},925:T=>{function E(h,c,_,B){_[B]=h[c]+0x9e3779b97f4a7c15n,_[B]=0xbf58476d1ce4e5b9n*(_[B]^_[B]>>30n),_[B]=0x94d049bb133111ebn*(_[B]^_[B]>>27n),_[B]=_[B]^_[B]>>31n}T.exports={reset:function(h,c){let _=new BigUint64Array(1);_[0]=BigInt(Math.trunc(1e6*h)),E(_,0,c,0),E(c,0,c,1),E(c,1,c,2),E(c,2,c,3)},next:function(h){let c=new BigUint64Array(1),_=new BigUint64Array(1);return _[0]=h[0]+h[3],c[0]=h[1]<<17n,h[2]^=h[0],h[3]^=h[1],h[1]^=h[2],h[0]^=h[3],h[2]^=c[0],h[3]=h[3]<<45n|h[3]>>19n,_[0]=_[0]>>11n,2220446049250313e-31*Number(_[0])-1}}},766:(T,E)=>{E.byteLength=function(w){var e=o(w),n=e[0],i=e[1];return 3*(n+i)/4-i},E.toByteArray=function(w){var e,n,i=o(w),l=i[0],g=i[1],S=new _(function(Y,X,M){return 3*(X+M)/4-M}(0,l,g)),A=0,V=g>0?l-4:l;for(n=0;n<V;n+=4)e=c[w.charCodeAt(n)]<<18|c[w.charCodeAt(n+1)]<<12|c[w.charCodeAt(n+2)]<<6|c[w.charCodeAt(n+3)],S[A++]=e>>16&255,S[A++]=e>>8&255,S[A++]=255&e;return g===2&&(e=c[w.charCodeAt(n)]<<2|c[w.charCodeAt(n+1)]>>4,S[A++]=255&e),g===1&&(e=c[w.charCodeAt(n)]<<10|c[w.charCodeAt(n+1)]<<4|c[w.charCodeAt(n+2)]>>2,S[A++]=e>>8&255,S[A++]=255&e),S},E.fromByteArray=function(w){for(var e,n=w.length,i=n%3,l=[],g=16383,S=0,A=n-i;S<A;S+=g)l.push(v(w,S,S+g>A?A:S+g));return i===1?(e=w[n-1],l.push(h[e>>2]+h[e<<4&63]+"==")):i===2&&(e=(w[n-2]<<8)+w[n-1],l.push(h[e>>10]+h[e>>4&63]+h[e<<2&63]+"=")),l.join("")};for(var h=[],c=[],_=typeof Uint8Array<"u"?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,z=B.length;I<z;++I)h[I]=B[I],c[B.charCodeAt(I)]=I;function o(w){var e=w.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=w.indexOf("=");return n===-1&&(n=e),[n,n===e?0:4-n%4]}function v(w,e,n){for(var i,l,g=[],S=e;S<n;S+=3)i=(w[S]<<16&16711680)+(w[S+1]<<8&65280)+(255&w[S+2]),g.push(h[(l=i)>>18&63]+h[l>>12&63]+h[l>>6&63]+h[63&l]);return g.join("")}c[45]=62,c[95]=63},834:(T,E,h)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const c=h(766),_=h(181),B=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;E.Buffer=o,E.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},E.INSPECT_MAX_BYTES=50;const I=2147483647;function z(t){if(t>I)throw new RangeError('The value "'+t+'" is invalid for option "size"');const s=new Uint8Array(t);return Object.setPrototypeOf(s,o.prototype),s}function o(t,s,f){if(typeof t=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return e(t)}return v(t,s,f)}function v(t,s,f){if(typeof t=="string")return function(O,H){if(typeof H=="string"&&H!==""||(H="utf8"),!o.isEncoding(H))throw new TypeError("Unknown encoding: "+H);const ne=0|g(O,H);let se=z(ne);const ue=se.write(O,H);return ue!==ne&&(se=se.slice(0,ue)),se}(t,s);if(ArrayBuffer.isView(t))return function(O){if(te(O,Uint8Array)){const H=new Uint8Array(O);return i(H.buffer,H.byteOffset,H.byteLength)}return n(O)}(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(te(t,ArrayBuffer)||t&&te(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(t,SharedArrayBuffer)||t&&te(t.buffer,SharedArrayBuffer)))return i(t,s,f);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=t.valueOf&&t.valueOf();if(P!=null&&P!==t)return o.from(P,s,f);const k=function(O){if(o.isBuffer(O)){const H=0|l(O.length),ne=z(H);return ne.length===0||O.copy(ne,0,0,H),ne}return O.length!==void 0?typeof O.length!="number"||ae(O.length)?z(0):n(O):O.type==="Buffer"&&Array.isArray(O.data)?n(O.data):void 0}(t);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return o.from(t[Symbol.toPrimitive]("string"),s,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function w(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function e(t){return w(t),z(t<0?0:0|l(t))}function n(t){const s=t.length<0?0:0|l(t.length),f=z(s);for(let P=0;P<s;P+=1)f[P]=255&t[P];return f}function i(t,s,f){if(s<0||t.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<s+(f||0))throw new RangeError('"length" is outside of buffer bounds');let P;return P=s===void 0&&f===void 0?new Uint8Array(t):f===void 0?new Uint8Array(t,s):new Uint8Array(t,s,f),Object.setPrototypeOf(P,o.prototype),P}function l(t){if(t>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return 0|t}function g(t,s){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||te(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const f=t.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&f===0)return 0;let k=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return ee(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*f;case"hex":return f>>>1;case"base64":return Z(t).length;default:if(k)return P?-1:ee(t).length;s=(""+s).toLowerCase(),k=!0}}function S(t,s,f){let P=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0)<=(s>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,s,f);case"utf8":case"utf-8":return K(this,s,f);case"ascii":return re(this,s,f);case"latin1":case"binary":return $(this,s,f);case"base64":return F(this,s,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r(this,s,f);default:if(P)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),P=!0}}function A(t,s,f){const P=t[s];t[s]=t[f],t[f]=P}function V(t,s,f,P,k){if(t.length===0)return-1;if(typeof f=="string"?(P=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),ae(f=+f)&&(f=k?0:t.length-1),f<0&&(f=t.length+f),f>=t.length){if(k)return-1;f=t.length-1}else if(f<0){if(!k)return-1;f=0}if(typeof s=="string"&&(s=o.from(s,P)),o.isBuffer(s))return s.length===0?-1:Y(t,s,f,P,k);if(typeof s=="number")return s&=255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(t,s,f):Uint8Array.prototype.lastIndexOf.call(t,s,f):Y(t,[s],f,P,k);throw new TypeError("val must be string, number or Buffer")}function Y(t,s,f,P,k){let O,H=1,ne=t.length,se=s.length;if(P!==void 0&&((P=String(P).toLowerCase())==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(t.length<2||s.length<2)return-1;H=2,ne/=2,se/=2,f/=2}function ue(ie,oe){return H===1?ie[oe]:ie.readUInt16BE(oe*H)}if(k){let ie=-1;for(O=f;O<ne;O++)if(ue(t,O)===ue(s,ie===-1?0:O-ie)){if(ie===-1&&(ie=O),O-ie+1===se)return ie*H}else ie!==-1&&(O-=O-ie),ie=-1}else for(f+se>ne&&(f=ne-se),O=f;O>=0;O--){let ie=!0;for(let oe=0;oe<se;oe++)if(ue(t,O+oe)!==ue(s,oe)){ie=!1;break}if(ie)return O}return-1}function X(t,s,f,P){f=Number(f)||0;const k=t.length-f;P?(P=Number(P))>k&&(P=k):P=k;const O=s.length;let H;for(P>O/2&&(P=O/2),H=0;H<P;++H){const ne=parseInt(s.substr(2*H,2),16);if(ae(ne))return H;t[f+H]=ne}return H}function M(t,s,f,P){return Q(ee(s,t.length-f),t,f,P)}function x(t,s,f,P){return Q(function(k){const O=[];for(let H=0;H<k.length;++H)O.push(255&k.charCodeAt(H));return O}(s),t,f,P)}function N(t,s,f,P){return Q(Z(s),t,f,P)}function u(t,s,f,P){return Q(function(k,O){let H,ne,se;const ue=[];for(let ie=0;ie<k.length&&!((O-=2)<0);++ie)H=k.charCodeAt(ie),ne=H>>8,se=H%256,ue.push(se),ue.push(ne);return ue}(s,t.length-f),t,f,P)}function F(t,s,f){return s===0&&f===t.length?c.fromByteArray(t):c.fromByteArray(t.slice(s,f))}function K(t,s,f){f=Math.min(t.length,f);const P=[];let k=s;for(;k<f;){const O=t[k];let H=null,ne=O>239?4:O>223?3:O>191?2:1;if(k+ne<=f){let se,ue,ie,oe;switch(ne){case 1:O<128&&(H=O);break;case 2:se=t[k+1],(192&se)==128&&(oe=(31&O)<<6|63&se,oe>127&&(H=oe));break;case 3:se=t[k+1],ue=t[k+2],(192&se)==128&&(192&ue)==128&&(oe=(15&O)<<12|(63&se)<<6|63&ue,oe>2047&&(oe<55296||oe>57343)&&(H=oe));break;case 4:se=t[k+1],ue=t[k+2],ie=t[k+3],(192&se)==128&&(192&ue)==128&&(192&ie)==128&&(oe=(15&O)<<18|(63&se)<<12|(63&ue)<<6|63&ie,oe>65535&&oe<1114112&&(H=oe))}}H===null?(H=65533,ne=1):H>65535&&(H-=65536,P.push(H>>>10&1023|55296),H=56320|1023&H),P.push(H),k+=ne}return function(O){const H=O.length;if(H<=D)return String.fromCharCode.apply(String,O);let ne="",se=0;for(;se<H;)ne+=String.fromCharCode.apply(String,O.slice(se,se+=D));return ne}(P)}E.kMaxLength=I,o.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(t,s),t.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,s,f){return v(t,s,f)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,s,f){return function(P,k,O){return w(P),P<=0?z(P):k!==void 0?typeof O=="string"?z(P).fill(k,O):z(P).fill(k):z(P)}(t,s,f)},o.allocUnsafe=function(t){return e(t)},o.allocUnsafeSlow=function(t){return e(t)},o.isBuffer=function(t){return t!=null&&t.t===!0&&t!==o.prototype},o.compare=function(t,s){if(te(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),te(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),!o.isBuffer(t)||!o.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===s)return 0;let f=t.length,P=s.length;for(let k=0,O=Math.min(f,P);k<O;++k)if(t[k]!==s[k]){f=t[k],P=s[k];break}return f<P?-1:P<f?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,s){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return o.alloc(0);let f;if(s===void 0)for(s=0,f=0;f<t.length;++f)s+=t[f].length;const P=o.allocUnsafe(s);let k=0;for(f=0;f<t.length;++f){let O=t[f];if(te(O,Uint8Array))k+O.length>P.length?(o.isBuffer(O)||(O=o.from(O)),O.copy(P,k)):Uint8Array.prototype.set.call(P,O,k);else{if(!o.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(P,k)}k+=O.length}return P},o.byteLength=g,o.prototype.t=!0,o.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<t;s+=2)A(this,s,s+1);return this},o.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<t;s+=4)A(this,s,s+3),A(this,s+1,s+2);return this},o.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<t;s+=8)A(this,s,s+7),A(this,s+1,s+6),A(this,s+2,s+5),A(this,s+3,s+4);return this},o.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?K(this,0,t):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||o.compare(this,t)===0},o.prototype.inspect=function(){let t="";const s=E.INSPECT_MAX_BYTES;return t=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(t+=" ... "),"<Buffer "+t+">"},B&&(o.prototype[B]=o.prototype.inspect),o.prototype.compare=function(t,s,f,P,k){if(te(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(s===void 0&&(s=0),f===void 0&&(f=t?t.length:0),P===void 0&&(P=0),k===void 0&&(k=this.length),s<0||f>t.length||P<0||k>this.length)throw new RangeError("out of range index");if(P>=k&&s>=f)return 0;if(P>=k)return-1;if(s>=f)return 1;if(this===t)return 0;let O=(k>>>=0)-(P>>>=0),H=(f>>>=0)-(s>>>=0);const ne=Math.min(O,H),se=this.slice(P,k),ue=t.slice(s,f);for(let ie=0;ie<ne;++ie)if(se[ie]!==ue[ie]){O=se[ie],H=ue[ie];break}return O<H?-1:H<O?1:0},o.prototype.includes=function(t,s,f){return this.indexOf(t,s,f)!==-1},o.prototype.indexOf=function(t,s,f){return V(this,t,s,f,!0)},o.prototype.lastIndexOf=function(t,s,f){return V(this,t,s,f,!1)},o.prototype.write=function(t,s,f,P){if(s===void 0)P="utf8",f=this.length,s=0;else if(f===void 0&&typeof s=="string")P=s,f=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s>>>=0,isFinite(f)?(f>>>=0,P===void 0&&(P="utf8")):(P=f,f=void 0)}const k=this.length-s;if((f===void 0||f>k)&&(f=k),t.length>0&&(f<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let O=!1;for(;;)switch(P){case"hex":return X(this,t,s,f);case"utf8":case"utf-8":return M(this,t,s,f);case"ascii":case"latin1":case"binary":return x(this,t,s,f);case"base64":return N(this,t,s,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,t,s,f);default:if(O)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),O=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const D=4096;function re(t,s,f){let P="";f=Math.min(t.length,f);for(let k=s;k<f;++k)P+=String.fromCharCode(127&t[k]);return P}function $(t,s,f){let P="";f=Math.min(t.length,f);for(let k=s;k<f;++k)P+=String.fromCharCode(t[k]);return P}function j(t,s,f){const P=t.length;(!s||s<0)&&(s=0),(!f||f<0||f>P)&&(f=P);let k="";for(let O=s;O<f;++O)k+=he[t[O]];return k}function r(t,s,f){const P=t.slice(s,f);let k="";for(let O=0;O<P.length-1;O+=2)k+=String.fromCharCode(P[O]+256*P[O+1]);return k}function p(t,s,f){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+s>f)throw new RangeError("Trying to access beyond buffer length")}function L(t,s,f,P,k,O){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>k||s<O)throw new RangeError('"value" argument is out of bounds');if(f+P>t.length)throw new RangeError("Index out of range")}function m(t,s,f,P,k){R(s,P,k,t,f,7);let O=Number(s&BigInt(4294967295));t[f++]=O,O>>=8,t[f++]=O,O>>=8,t[f++]=O,O>>=8,t[f++]=O;let H=Number(s>>BigInt(32)&BigInt(4294967295));return t[f++]=H,H>>=8,t[f++]=H,H>>=8,t[f++]=H,H>>=8,t[f++]=H,f}function G(t,s,f,P,k){R(s,P,k,t,f,7);let O=Number(s&BigInt(4294967295));t[f+7]=O,O>>=8,t[f+6]=O,O>>=8,t[f+5]=O,O>>=8,t[f+4]=O;let H=Number(s>>BigInt(32)&BigInt(4294967295));return t[f+3]=H,H>>=8,t[f+2]=H,H>>=8,t[f+1]=H,H>>=8,t[f]=H,f+8}function J(t,s,f,P,k,O){if(f+P>t.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function q(t,s,f,P,k){return s=+s,f>>>=0,k||J(t,0,f,4),_.write(t,s,f,P,23,4),f+4}function d(t,s,f,P,k){return s=+s,f>>>=0,k||J(t,0,f,8),_.write(t,s,f,P,52,8),f+8}o.prototype.slice=function(t,s){const f=this.length;(t=~~t)<0?(t+=f)<0&&(t=0):t>f&&(t=f),(s=s===void 0?f:~~s)<0?(s+=f)<0&&(s=0):s>f&&(s=f),s<t&&(s=t);const P=this.subarray(t,s);return Object.setPrototypeOf(P,o.prototype),P},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,s,f){t>>>=0,s>>>=0,f||p(t,s,this.length);let P=this[t],k=1,O=0;for(;++O<s&&(k*=256);)P+=this[t+O]*k;return P},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,s,f){t>>>=0,s>>>=0,f||p(t,s,this.length);let P=this[t+--s],k=1;for(;s>0&&(k*=256);)P+=this[t+--s]*k;return P},o.prototype.readUint8=o.prototype.readUInt8=function(t,s){return t>>>=0,s||p(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,s){return t>>>=0,s||p(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,s){return t>>>=0,s||p(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,s){return t>>>=0,s||p(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,s){return t>>>=0,s||p(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readBigUInt64LE=le(function(t){U(t>>>=0,"offset");const s=this[t],f=this[t+7];s!==void 0&&f!==void 0||C(t,this.length-8);const P=s+256*this[++t]+65536*this[++t]+this[++t]*2**24,k=this[++t]+256*this[++t]+65536*this[++t]+f*2**24;return BigInt(P)+(BigInt(k)<<BigInt(32))}),o.prototype.readBigUInt64BE=le(function(t){U(t>>>=0,"offset");const s=this[t],f=this[t+7];s!==void 0&&f!==void 0||C(t,this.length-8);const P=s*2**24+65536*this[++t]+256*this[++t]+this[++t],k=this[++t]*2**24+65536*this[++t]+256*this[++t]+f;return(BigInt(P)<<BigInt(32))+BigInt(k)}),o.prototype.readIntLE=function(t,s,f){t>>>=0,s>>>=0,f||p(t,s,this.length);let P=this[t],k=1,O=0;for(;++O<s&&(k*=256);)P+=this[t+O]*k;return k*=128,P>=k&&(P-=Math.pow(2,8*s)),P},o.prototype.readIntBE=function(t,s,f){t>>>=0,s>>>=0,f||p(t,s,this.length);let P=s,k=1,O=this[t+--P];for(;P>0&&(k*=256);)O+=this[t+--P]*k;return k*=128,O>=k&&(O-=Math.pow(2,8*s)),O},o.prototype.readInt8=function(t,s){return t>>>=0,s||p(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,s){t>>>=0,s||p(t,2,this.length);const f=this[t]|this[t+1]<<8;return 32768&f?4294901760|f:f},o.prototype.readInt16BE=function(t,s){t>>>=0,s||p(t,2,this.length);const f=this[t+1]|this[t]<<8;return 32768&f?4294901760|f:f},o.prototype.readInt32LE=function(t,s){return t>>>=0,s||p(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,s){return t>>>=0,s||p(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readBigInt64LE=le(function(t){U(t>>>=0,"offset");const s=this[t],f=this[t+7];s!==void 0&&f!==void 0||C(t,this.length-8);const P=this[t+4]+256*this[t+5]+65536*this[t+6]+(f<<24);return(BigInt(P)<<BigInt(32))+BigInt(s+256*this[++t]+65536*this[++t]+this[++t]*16777216)}),o.prototype.readBigInt64BE=le(function(t){U(t>>>=0,"offset");const s=this[t],f=this[t+7];s!==void 0&&f!==void 0||C(t,this.length-8);const P=(s<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(P)<<BigInt(32))+BigInt(this[++t]*16777216+65536*this[++t]+256*this[++t]+f)}),o.prototype.readFloatLE=function(t,s){return t>>>=0,s||p(t,4,this.length),_.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,s){return t>>>=0,s||p(t,4,this.length),_.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,s){return t>>>=0,s||p(t,8,this.length),_.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,s){return t>>>=0,s||p(t,8,this.length),_.read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,s,f,P){t=+t,s>>>=0,f>>>=0,P||L(this,t,s,f,Math.pow(2,8*f)-1,0);let k=1,O=0;for(this[s]=255&t;++O<f&&(k*=256);)this[s+O]=t/k&255;return s+f},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,s,f,P){t=+t,s>>>=0,f>>>=0,P||L(this,t,s,f,Math.pow(2,8*f)-1,0);let k=f-1,O=1;for(this[s+k]=255&t;--k>=0&&(O*=256);)this[s+k]=t/O&255;return s+f},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,1,255,0),this[s]=255&t,s+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,2,65535,0),this[s]=255&t,this[s+1]=t>>>8,s+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,2,65535,0),this[s]=t>>>8,this[s+1]=255&t,s+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,4,4294967295,0),this[s+3]=t>>>24,this[s+2]=t>>>16,this[s+1]=t>>>8,this[s]=255&t,s+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,4,4294967295,0),this[s]=t>>>24,this[s+1]=t>>>16,this[s+2]=t>>>8,this[s+3]=255&t,s+4},o.prototype.writeBigUInt64LE=le(function(t,s=0){return m(this,t,s,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=le(function(t,s=0){return G(this,t,s,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(t,s,f,P){if(t=+t,s>>>=0,!P){const ne=Math.pow(2,8*f-1);L(this,t,s,f,ne-1,-ne)}let k=0,O=1,H=0;for(this[s]=255&t;++k<f&&(O*=256);)t<0&&H===0&&this[s+k-1]!==0&&(H=1),this[s+k]=(t/O>>0)-H&255;return s+f},o.prototype.writeIntBE=function(t,s,f,P){if(t=+t,s>>>=0,!P){const ne=Math.pow(2,8*f-1);L(this,t,s,f,ne-1,-ne)}let k=f-1,O=1,H=0;for(this[s+k]=255&t;--k>=0&&(O*=256);)t<0&&H===0&&this[s+k+1]!==0&&(H=1),this[s+k]=(t/O>>0)-H&255;return s+f},o.prototype.writeInt8=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,1,127,-128),t<0&&(t=255+t+1),this[s]=255&t,s+1},o.prototype.writeInt16LE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,2,32767,-32768),this[s]=255&t,this[s+1]=t>>>8,s+2},o.prototype.writeInt16BE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,2,32767,-32768),this[s]=t>>>8,this[s+1]=255&t,s+2},o.prototype.writeInt32LE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,4,2147483647,-2147483648),this[s]=255&t,this[s+1]=t>>>8,this[s+2]=t>>>16,this[s+3]=t>>>24,s+4},o.prototype.writeInt32BE=function(t,s,f){return t=+t,s>>>=0,f||L(this,t,s,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[s]=t>>>24,this[s+1]=t>>>16,this[s+2]=t>>>8,this[s+3]=255&t,s+4},o.prototype.writeBigInt64LE=le(function(t,s=0){return m(this,t,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=le(function(t,s=0){return G(this,t,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(t,s,f){return q(this,t,s,!0,f)},o.prototype.writeFloatBE=function(t,s,f){return q(this,t,s,!1,f)},o.prototype.writeDoubleLE=function(t,s,f){return d(this,t,s,!0,f)},o.prototype.writeDoubleBE=function(t,s,f){return d(this,t,s,!1,f)},o.prototype.copy=function(t,s,f,P){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(f||(f=0),P||P===0||(P=this.length),s>=t.length&&(s=t.length),s||(s=0),P>0&&P<f&&(P=f),P===f||t.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),t.length-s<P-f&&(P=t.length-s+f);const k=P-f;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,f,P):Uint8Array.prototype.set.call(t,this.subarray(f,P),s),k},o.prototype.fill=function(t,s,f,P){if(typeof t=="string"){if(typeof s=="string"?(P=s,s=0,f=this.length):typeof f=="string"&&(P=f,f=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(t.length===1){const O=t.charCodeAt(0);(P==="utf8"&&O<128||P==="latin1")&&(t=O)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(s<0||this.length<s||this.length<f)throw new RangeError("Out of range index");if(f<=s)return this;let k;if(s>>>=0,f=f===void 0?this.length:f>>>0,t||(t=0),typeof t=="number")for(k=s;k<f;++k)this[k]=t;else{const O=o.isBuffer(t)?t:o.from(t,P),H=O.length;if(H===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(k=0;k<f-s;++k)this[k+s]=O[k%H]}return this};const b={};function a(t,s,f){b[t]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function y(t){let s="",f=t.length;const P=t[0]==="-"?1:0;for(;f>=P+4;f-=3)s=`_${t.slice(f-3,f)}${s}`;return`${t.slice(0,f)}${s}`}function R(t,s,f,P,k,O){if(t>f||t<s){const H=typeof s=="bigint"?"n":"";let ne;throw ne=s===0||s===BigInt(0)?`>= 0${H} and < 2${H} ** ${8*(O+1)}${H}`:`>= -(2${H} ** ${8*(O+1)-1}${H}) and < 2 ** ${8*(O+1)-1}${H}`,new b.ERR_OUT_OF_RANGE("value",ne,t)}(function(H,ne,se){U(ne,"offset"),H[ne]!==void 0&&H[ne+se]!==void 0||C(ne,H.length-(se+1))})(P,k,O)}function U(t,s){if(typeof t!="number")throw new b.ERR_INVALID_ARG_TYPE(s,"number",t)}function C(t,s,f){throw Math.floor(t)!==t?(U(t,f),new b.ERR_OUT_OF_RANGE("offset","an integer",t)):s<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${s}`,t)}a("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),a("ERR_INVALID_ARG_TYPE",function(t,s){return`The "${t}" argument must be of type number. Received type ${typeof s}`},TypeError),a("ERR_OUT_OF_RANGE",function(t,s,f){let P=`The value of "${t}" is out of range.`,k=f;return Number.isInteger(f)&&Math.abs(f)>4294967296?k=y(String(f)):typeof f=="bigint"&&(k=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(k=y(k)),k+="n"),P+=` It must be ${s}. Received ${k}`,P},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function ee(t,s){let f;s=s||1/0;const P=t.length;let k=null;const O=[];for(let H=0;H<P;++H){if(f=t.charCodeAt(H),f>55295&&f<57344){if(!k){if(f>56319){(s-=3)>-1&&O.push(239,191,189);continue}if(H+1===P){(s-=3)>-1&&O.push(239,191,189);continue}k=f;continue}if(f<56320){(s-=3)>-1&&O.push(239,191,189),k=f;continue}f=65536+(k-55296<<10|f-56320)}else k&&(s-=3)>-1&&O.push(239,191,189);if(k=null,f<128){if((s-=1)<0)break;O.push(f)}else if(f<2048){if((s-=2)<0)break;O.push(f>>6|192,63&f|128)}else if(f<65536){if((s-=3)<0)break;O.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;O.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return O}function Z(t){return c.toByteArray(function(s){if((s=(s=s.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(t))}function Q(t,s,f,P){let k;for(k=0;k<P&&!(k+f>=s.length||k>=t.length);++k)s[k+f]=t[k];return k}function te(t,s){return t instanceof s||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===s.name}function ae(t){return t!=t}const he=function(){const t="0123456789abcdef",s=new Array(256);for(let f=0;f<16;++f){const P=16*f;for(let k=0;k<16;++k)s[P+k]=t[f]+t[k]}return s}();function le(t){return typeof BigInt>"u"?fe:t}function fe(){throw new Error("BigInt not supported")}},181:(T,E)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */E.read=function(h,c,_,B,I){var z,o,v=8*I-B-1,w=(1<<v)-1,e=w>>1,n=-7,i=_?I-1:0,l=_?-1:1,g=h[c+i];for(i+=l,z=g&(1<<-n)-1,g>>=-n,n+=v;n>0;z=256*z+h[c+i],i+=l,n-=8);for(o=z&(1<<-n)-1,z>>=-n,n+=B;n>0;o=256*o+h[c+i],i+=l,n-=8);if(z===0)z=1-e;else{if(z===w)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,B),z-=e}return(g?-1:1)*o*Math.pow(2,z-B)},E.write=function(h,c,_,B,I,z){var o,v,w,e=8*z-I-1,n=(1<<e)-1,i=n>>1,l=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=B?0:z-1,S=B?1:-1,A=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(v=isNaN(c)?1:0,o=n):(o=Math.floor(Math.log(c)/Math.LN2),c*(w=Math.pow(2,-o))<1&&(o--,w*=2),(c+=o+i>=1?l/w:l*Math.pow(2,1-i))*w>=2&&(o++,w/=2),o+i>=n?(v=0,o=n):o+i>=1?(v=(c*w-1)*Math.pow(2,I),o+=i):(v=c*Math.pow(2,i-1)*Math.pow(2,I),o=0));I>=8;h[_+g]=255&v,g+=S,v/=256,I-=8);for(o=o<<I|v,e+=I;e>0;h[_+g]=255&o,g+=S,o/=256,e-=8);h[_+g-S]|=128*A}},845:(T,E,h)=>{var c={};(0,h(761).assign)(c,h(880),h(380),h(271)),T.exports=c},880:(T,E,h)=>{var c=h(789),_=h(761),B=h(944),I=h(950),z=h(744),o=Object.prototype.toString;function v(e){if(!(this instanceof v))return new v(e);this.options=_.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var i=c.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==0)throw new Error(I[i]);if(n.header&&c.deflateSetHeader(this.strm,n.header),n.dictionary){var l;if(l=typeof n.dictionary=="string"?B.string2buf(n.dictionary):o.call(n.dictionary)==="[object ArrayBuffer]"?new Uint8Array(n.dictionary):n.dictionary,(i=c.deflateSetDictionary(this.strm,l))!==0)throw new Error(I[i]);this.u=!0}}function w(e,n){var i=new v(n);if(i.push(e,!0),i.err)throw i.msg||I[i.err];return i.result}v.prototype.push=function(e,n){var i,l,g=this.strm,S=this.options.chunkSize;if(this.ended)return!1;l=n===~~n?n:n===!0?4:0,typeof e=="string"?g.input=B.string2buf(e):o.call(e)==="[object ArrayBuffer]"?g.input=new Uint8Array(e):g.input=e,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new _.Buf8(S),g.next_out=0,g.avail_out=S),(i=c.deflate(g,l))!==1&&i!==0)return this.onEnd(i),this.ended=!0,!1;g.avail_out!==0&&(g.avail_in!==0||l!==4&&l!==2)||(this.options.to==="string"?this.onData(B.buf2binstring(_.shrinkBuf(g.output,g.next_out))):this.onData(_.shrinkBuf(g.output,g.next_out)))}while((g.avail_in>0||g.avail_out===0)&&i!==1);return l===4?(i=c.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===0):l!==2||(this.onEnd(0),g.avail_out=0,!0)},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},E.Deflate=v,E.deflate=w,E.deflateRaw=function(e,n){return(n=n||{}).raw=!0,w(e,n)},E.gzip=function(e,n){return(n=n||{}).gzip=!0,w(e,n)}},380:(T,E,h)=>{var c=h(20),_=h(761),B=h(944),I=h(271),z=h(950),o=h(744),v=h(357),w=Object.prototype.toString;function e(i){if(!(this instanceof e))return new e(i);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},i||{});var l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(l.windowBits>=0&&l.windowBits<16)||i&&i.windowBits||(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&!(15&l.windowBits)&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var g=c.inflateInit2(this.strm,l.windowBits);if(g!==I.Z_OK)throw new Error(z[g]);if(this.header=new v,c.inflateGetHeader(this.strm,this.header),l.dictionary&&(typeof l.dictionary=="string"?l.dictionary=B.string2buf(l.dictionary):w.call(l.dictionary)==="[object ArrayBuffer]"&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(g=c.inflateSetDictionary(this.strm,l.dictionary))!==I.Z_OK))throw new Error(z[g])}function n(i,l){var g=new e(l);if(g.push(i,!0),g.err)throw g.msg||z[g.err];return g.result}e.prototype.push=function(i,l){var g,S,A,V,Y,X=this.strm,M=this.options.chunkSize,x=this.options.dictionary,N=!1;if(this.ended)return!1;S=l===~~l?l:l===!0?I.Z_FINISH:I.Z_NO_FLUSH,typeof i=="string"?X.input=B.binstring2buf(i):w.call(i)==="[object ArrayBuffer]"?X.input=new Uint8Array(i):X.input=i,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new _.Buf8(M),X.next_out=0,X.avail_out=M),(g=c.inflate(X,I.Z_NO_FLUSH))===I.Z_NEED_DICT&&x&&(g=c.inflateSetDictionary(this.strm,x)),g===I.Z_BUF_ERROR&&N===!0&&(g=I.Z_OK,N=!1),g!==I.Z_STREAM_END&&g!==I.Z_OK)return this.onEnd(g),this.ended=!0,!1;X.next_out&&(X.avail_out!==0&&g!==I.Z_STREAM_END&&(X.avail_in!==0||S!==I.Z_FINISH&&S!==I.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=B.utf8border(X.output,X.next_out),V=X.next_out-A,Y=B.buf2string(X.output,A),X.next_out=V,X.avail_out=M-V,V&&_.arraySet(X.output,X.output,A,V,0),this.onData(Y)):this.onData(_.shrinkBuf(X.output,X.next_out)))),X.avail_in===0&&X.avail_out===0&&(N=!0)}while((X.avail_in>0||X.avail_out===0)&&g!==I.Z_STREAM_END);return g===I.Z_STREAM_END&&(S=I.Z_FINISH),S===I.Z_FINISH?(g=c.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===I.Z_OK):S!==I.Z_SYNC_FLUSH||(this.onEnd(I.Z_OK),X.avail_out=0,!0)},e.prototype.onData=function(i){this.chunks.push(i)},e.prototype.onEnd=function(i){i===I.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},E.Inflate=e,E.inflate=n,E.inflateRaw=function(i,l){return(l=l||{}).raw=!0,n(i,l)},E.ungzip=n},761:(T,E)=>{var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(I,z){return Object.prototype.hasOwnProperty.call(I,z)}E.assign=function(I){for(var z=Array.prototype.slice.call(arguments,1);z.length;){var o=z.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var v in o)c(o,v)&&(I[v]=o[v])}}return I},E.shrinkBuf=function(I,z){return I.length===z?I:I.subarray?I.subarray(0,z):(I.length=z,I)};var _={arraySet:function(I,z,o,v,w){if(z.subarray&&I.subarray)I.set(z.subarray(o,o+v),w);else for(var e=0;e<v;e++)I[w+e]=z[o+e]},flattenChunks:function(I){var z,o,v,w,e,n;for(v=0,z=0,o=I.length;z<o;z++)v+=I[z].length;for(n=new Uint8Array(v),w=0,z=0,o=I.length;z<o;z++)e=I[z],n.set(e,w),w+=e.length;return n}},B={arraySet:function(I,z,o,v,w){for(var e=0;e<v;e++)I[w+e]=z[o+e]},flattenChunks:function(I){return[].concat.apply([],I)}};E.setTyped=function(I){I?(E.Buf8=Uint8Array,E.Buf16=Uint16Array,E.Buf32=Int32Array,E.assign(E,_)):(E.Buf8=Array,E.Buf16=Array,E.Buf32=Array,E.assign(E,B))},E.setTyped(h)},944:(T,E,h)=>{var c=h(761),_=!0,B=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{B=!1}for(var I=new c.Buf8(256),z=0;z<256;z++)I[z]=z>=252?6:z>=248?5:z>=240?4:z>=224?3:z>=192?2:1;function o(v,w){if(w<65534&&(v.subarray&&B||!v.subarray&&_))return String.fromCharCode.apply(null,c.shrinkBuf(v,w));for(var e="",n=0;n<w;n++)e+=String.fromCharCode(v[n]);return e}I[254]=I[254]=1,E.string2buf=function(v){var w,e,n,i,l,g=v.length,S=0;for(i=0;i<g;i++)(64512&(e=v.charCodeAt(i)))==55296&&i+1<g&&(64512&(n=v.charCodeAt(i+1)))==56320&&(e=65536+(e-55296<<10)+(n-56320),i++),S+=e<128?1:e<2048?2:e<65536?3:4;for(w=new c.Buf8(S),l=0,i=0;l<S;i++)(64512&(e=v.charCodeAt(i)))==55296&&i+1<g&&(64512&(n=v.charCodeAt(i+1)))==56320&&(e=65536+(e-55296<<10)+(n-56320),i++),e<128?w[l++]=e:e<2048?(w[l++]=192|e>>>6,w[l++]=128|63&e):e<65536?(w[l++]=224|e>>>12,w[l++]=128|e>>>6&63,w[l++]=128|63&e):(w[l++]=240|e>>>18,w[l++]=128|e>>>12&63,w[l++]=128|e>>>6&63,w[l++]=128|63&e);return w},E.buf2binstring=function(v){return o(v,v.length)},E.binstring2buf=function(v){for(var w=new c.Buf8(v.length),e=0,n=w.length;e<n;e++)w[e]=v.charCodeAt(e);return w},E.buf2string=function(v,w){var e,n,i,l,g=w||v.length,S=new Array(2*g);for(n=0,e=0;e<g;)if((i=v[e++])<128)S[n++]=i;else if((l=I[i])>4)S[n++]=65533,e+=l-1;else{for(i&=l===2?31:l===3?15:7;l>1&&e<g;)i=i<<6|63&v[e++],l--;l>1?S[n++]=65533:i<65536?S[n++]=i:(i-=65536,S[n++]=55296|i>>10&1023,S[n++]=56320|1023&i)}return o(S,n)},E.utf8border=function(v,w){var e;for((w=w||v.length)>v.length&&(w=v.length),e=w-1;e>=0&&(192&v[e])==128;)e--;return e<0||e===0?w:e+I[v[e]]>w?e:w}},562:T=>{T.exports=function(E,h,c,_){for(var B=65535&E|0,I=E>>>16&65535|0,z=0;c!==0;){c-=z=c>2e3?2e3:c;do I=I+(B=B+h[_++]|0)|0;while(--z);B%=65521,I%=65521}return B|I<<16|0}},271:T=>{T.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:T=>{var E=function(){for(var h,c=[],_=0;_<256;_++){h=_;for(var B=0;B<8;B++)h=1&h?3988292384^h>>>1:h>>>1;c[_]=h}return c}();T.exports=function(h,c,_,B){var I=E,z=B+_;h^=-1;for(var o=B;o<z;o++)h=h>>>8^I[255&(h^c[o])];return-1^h}},789:(T,E,h)=>{var c,_=h(761),B=h(564),I=h(562),z=h(299),o=h(950),v=-2,w=258,e=262,n=103,i=113,l=666;function g(r,p){return r.msg=o[p],p}function S(r){return(r<<1)-(r>4?9:0)}function A(r){for(var p=r.length;--p>=0;)r[p]=0}function V(r){var p=r.state,L=p.pending;L>r.avail_out&&(L=r.avail_out),L!==0&&(_.arraySet(r.output,p.pending_buf,p.pending_out,L,r.next_out),r.next_out+=L,p.pending_out+=L,r.total_out+=L,r.avail_out-=L,p.pending-=L,p.pending===0&&(p.pending_out=0))}function Y(r,p){B.h(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,p),r.block_start=r.strstart,V(r.strm)}function X(r,p){r.pending_buf[r.pending++]=p}function M(r,p){r.pending_buf[r.pending++]=p>>>8&255,r.pending_buf[r.pending++]=255&p}function x(r,p){var L,m,G=r.max_chain_length,J=r.strstart,q=r.prev_length,d=r.nice_match,b=r.strstart>r.w_size-e?r.strstart-(r.w_size-e):0,a=r.window,y=r.w_mask,R=r.prev,U=r.strstart+w,C=a[J+q-1],W=a[J+q];r.prev_length>=r.good_match&&(G>>=2),d>r.lookahead&&(d=r.lookahead);do if(a[(L=p)+q]===W&&a[L+q-1]===C&&a[L]===a[J]&&a[++L]===a[J+1]){J+=2,L++;do;while(a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&a[++J]===a[++L]&&J<U);if(m=w-(U-J),J=U-w,m>q){if(r.match_start=p,q=m,m>=d)break;C=a[J+q-1],W=a[J+q]}}while((p=R[p&y])>b&&--G!=0);return q<=r.lookahead?q:r.lookahead}function N(r){var p,L,m,G,J,q,d,b,a,y,R=r.w_size;do{if(G=r.window_size-r.lookahead-r.strstart,r.strstart>=R+(R-e)){_.arraySet(r.window,r.window,R,R,0),r.match_start-=R,r.strstart-=R,r.block_start-=R,p=L=r.hash_size;do m=r.head[--p],r.head[p]=m>=R?m-R:0;while(--L);p=L=R;do m=r.prev[--p],r.prev[p]=m>=R?m-R:0;while(--L);G+=R}if(r.strm.avail_in===0)break;if(q=r.strm,d=r.window,b=r.strstart+r.lookahead,a=G,y=void 0,(y=q.avail_in)>a&&(y=a),L=y===0?0:(q.avail_in-=y,_.arraySet(d,q.input,q.next_in,y,b),q.state.wrap===1?q.adler=I(q.adler,d,y,b):q.state.wrap===2&&(q.adler=z(q.adler,d,y,b)),q.next_in+=y,q.total_in+=y,y),r.lookahead+=L,r.lookahead+r.insert>=3)for(J=r.strstart-r.insert,r.ins_h=r.window[J],r.ins_h=(r.ins_h<<r.hash_shift^r.window[J+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[J+3-1])&r.hash_mask,r.prev[J&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=J,J++,r.insert--,!(r.lookahead+r.insert<3)););}while(r.lookahead<e&&r.strm.avail_in!==0)}function u(r,p){for(var L,m;;){if(r.lookahead<e){if(N(r),r.lookahead<e&&p===0)return 1;if(r.lookahead===0)break}if(L=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,L=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),L!==0&&r.strstart-L<=r.w_size-e&&(r.match_length=x(r,L)),r.match_length>=3)if(m=B.l(r,r.strstart-r.match_start,r.match_length-3),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=3){r.match_length--;do r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,L=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!=0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else m=B.l(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(m&&(Y(r,!1),r.strm.avail_out===0))return 1}return r.insert=r.strstart<2?r.strstart:2,p===4?(Y(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(Y(r,!1),r.strm.avail_out===0)?1:2}function F(r,p){for(var L,m,G;;){if(r.lookahead<e){if(N(r),r.lookahead<e&&p===0)return 1;if(r.lookahead===0)break}if(L=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,L=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=2,L!==0&&r.prev_length<r.max_lazy_match&&r.strstart-L<=r.w_size-e&&(r.match_length=x(r,L),r.match_length<=5&&(r.strategy===1||r.match_length===3&&r.strstart-r.match_start>4096)&&(r.match_length=2)),r.prev_length>=3&&r.match_length<=r.prev_length){G=r.strstart+r.lookahead-3,m=B.l(r,r.strstart-1-r.prev_match,r.prev_length-3),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=G&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,L=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!=0);if(r.match_available=0,r.match_length=2,r.strstart++,m&&(Y(r,!1),r.strm.avail_out===0))return 1}else if(r.match_available){if((m=B.l(r,0,r.window[r.strstart-1]))&&Y(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return 1}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(m=B.l(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<2?r.strstart:2,p===4?(Y(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(Y(r,!1),r.strm.avail_out===0)?1:2}function K(r,p,L,m,G){this.good_length=r,this.max_lazy=p,this.nice_length=L,this.max_chain=m,this.func=G}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(1146),this.dyn_dtree=new _.Buf16(122),this.bl_tree=new _.Buf16(78),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(16),this.heap=new _.Buf16(573),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(573),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(r){var p;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,(p=r.state).pending=0,p.pending_out=0,p.wrap<0&&(p.wrap=-p.wrap),p.status=p.wrap?42:i,r.adler=p.wrap===2?0:1,p.last_flush=0,B.p(p),0):g(r,v)}function $(r){var p,L=re(r);return L===0&&((p=r.state).window_size=2*p.w_size,A(p.head),p.max_lazy_match=c[p.level].max_lazy,p.good_match=c[p.level].good_length,p.nice_match=c[p.level].nice_length,p.max_chain_length=c[p.level].max_chain,p.strstart=0,p.block_start=0,p.lookahead=0,p.insert=0,p.match_length=p.prev_length=2,p.match_available=0,p.ins_h=0),L}function j(r,p,L,m,G,J){if(!r)return v;var q=1;if(p===-1&&(p=6),m<0?(q=0,m=-m):m>15&&(q=2,m-=16),G<1||G>9||L!==8||m<8||m>15||p<0||p>9||J<0||J>4)return g(r,v);m===8&&(m=9);var d=new D;return r.state=d,d.strm=r,d.wrap=q,d.gzhead=null,d.w_bits=m,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=G+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+3-1)/3),d.window=new _.Buf8(2*d.w_size),d.head=new _.Buf16(d.hash_size),d.prev=new _.Buf16(d.w_size),d.lit_bufsize=1<<G+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new _.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=p,d.strategy=J,d.method=L,$(r)}c=[new K(0,0,0,0,function(r,p){var L=65535;for(L>r.pending_buf_size-5&&(L=r.pending_buf_size-5);;){if(r.lookahead<=1){if(N(r),r.lookahead===0&&p===0)return 1;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var m=r.block_start+L;if((r.strstart===0||r.strstart>=m)&&(r.lookahead=r.strstart-m,r.strstart=m,Y(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-e&&(Y(r,!1),r.strm.avail_out===0))return 1}return r.insert=0,p===4?(Y(r,!0),r.strm.avail_out===0?3:4):(r.strstart>r.block_start&&(Y(r,!1),r.strm.avail_out),1)}),new K(4,4,8,4,u),new K(4,5,16,8,u),new K(4,6,32,32,u),new K(4,4,16,16,F),new K(8,16,32,32,F),new K(8,16,128,128,F),new K(8,32,128,256,F),new K(32,128,258,1024,F),new K(32,258,258,4096,F)],E.deflateInit=function(r,p){return j(r,p,8,15,8,0)},E.deflateInit2=j,E.deflateReset=$,E.deflateResetKeep=re,E.deflateSetHeader=function(r,p){return r&&r.state?r.state.wrap!==2?v:(r.state.gzhead=p,0):v},E.deflate=function(r,p){var L,m,G,J;if(!r||!r.state||p>5||p<0)return r?g(r,v):v;if(m=r.state,!r.output||!r.input&&r.avail_in!==0||m.status===l&&p!==4)return g(r,r.avail_out===0?-5:v);if(m.strm=r,L=m.last_flush,m.last_flush=p,m.status===42)if(m.wrap===2)r.adler=0,X(m,31),X(m,139),X(m,8),m.gzhead?(X(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),X(m,255&m.gzhead.time),X(m,m.gzhead.time>>8&255),X(m,m.gzhead.time>>16&255),X(m,m.gzhead.time>>24&255),X(m,m.level===9?2:m.strategy>=2||m.level<2?4:0),X(m,255&m.gzhead.os),m.gzhead.extra&&m.gzhead.extra.length&&(X(m,255&m.gzhead.extra.length),X(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(r.adler=z(r.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(X(m,0),X(m,0),X(m,0),X(m,0),X(m,0),X(m,m.level===9?2:m.strategy>=2||m.level<2?4:0),X(m,3),m.status=i);else{var q=8+(m.w_bits-8<<4)<<8;q|=(m.strategy>=2||m.level<2?0:m.level<6?1:m.level===6?2:3)<<6,m.strstart!==0&&(q|=32),q+=31-q%31,m.status=i,M(m,q),m.strstart!==0&&(M(m,r.adler>>>16),M(m,65535&r.adler)),r.adler=1}if(m.status===69)if(m.gzhead.extra){for(G=m.pending;m.gzindex<(65535&m.gzhead.extra.length)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),V(r),G=m.pending,m.pending!==m.pending_buf_size));)X(m,255&m.gzhead.extra[m.gzindex]),m.gzindex++;m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(m.status===73)if(m.gzhead.name){G=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),V(r),G=m.pending,m.pending===m.pending_buf_size)){J=1;break}J=m.gzindex<m.gzhead.name.length?255&m.gzhead.name.charCodeAt(m.gzindex++):0,X(m,J)}while(J!==0);m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),J===0&&(m.gzindex=0,m.status=91)}else m.status=91;if(m.status===91)if(m.gzhead.comment){G=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),V(r),G=m.pending,m.pending===m.pending_buf_size)){J=1;break}J=m.gzindex<m.gzhead.comment.length?255&m.gzhead.comment.charCodeAt(m.gzindex++):0,X(m,J)}while(J!==0);m.gzhead.hcrc&&m.pending>G&&(r.adler=z(r.adler,m.pending_buf,m.pending-G,G)),J===0&&(m.status=n)}else m.status=n;if(m.status===n&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&V(r),m.pending+2<=m.pending_buf_size&&(X(m,255&r.adler),X(m,r.adler>>8&255),r.adler=0,m.status=i)):m.status=i),m.pending!==0){if(V(r),r.avail_out===0)return m.last_flush=-1,0}else if(r.avail_in===0&&S(p)<=S(L)&&p!==4)return g(r,-5);if(m.status===l&&r.avail_in!==0)return g(r,-5);if(r.avail_in!==0||m.lookahead!==0||p!==0&&m.status!==l){var d=m.strategy===2?function(b,a){for(var y;;){if(b.lookahead===0&&(N(b),b.lookahead===0)){if(a===0)return 1;break}if(b.match_length=0,y=B.l(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,y&&(Y(b,!1),b.strm.avail_out===0))return 1}return b.insert=0,a===4?(Y(b,!0),b.strm.avail_out===0?3:4):b.last_lit&&(Y(b,!1),b.strm.avail_out===0)?1:2}(m,p):m.strategy===3?function(b,a){for(var y,R,U,C,W=b.window;;){if(b.lookahead<=w){if(N(b),b.lookahead<=w&&a===0)return 1;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=3&&b.strstart>0&&(R=W[U=b.strstart-1])===W[++U]&&R===W[++U]&&R===W[++U]){C=b.strstart+w;do;while(R===W[++U]&&R===W[++U]&&R===W[++U]&&R===W[++U]&&R===W[++U]&&R===W[++U]&&R===W[++U]&&R===W[++U]&&U<C);b.match_length=w-(C-U),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=3?(y=B.l(b,1,b.match_length-3),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(y=B.l(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),y&&(Y(b,!1),b.strm.avail_out===0))return 1}return b.insert=0,a===4?(Y(b,!0),b.strm.avail_out===0?3:4):b.last_lit&&(Y(b,!1),b.strm.avail_out===0)?1:2}(m,p):c[m.level].func(m,p);if(d!==3&&d!==4||(m.status=l),d===1||d===3)return r.avail_out===0&&(m.last_flush=-1),0;if(d===2&&(p===1?B.g(m):p!==5&&(B.m(m,0,0,!1),p===3&&(A(m.head),m.lookahead===0&&(m.strstart=0,m.block_start=0,m.insert=0))),V(r),r.avail_out===0))return m.last_flush=-1,0}return p!==4?0:m.wrap<=0?1:(m.wrap===2?(X(m,255&r.adler),X(m,r.adler>>8&255),X(m,r.adler>>16&255),X(m,r.adler>>24&255),X(m,255&r.total_in),X(m,r.total_in>>8&255),X(m,r.total_in>>16&255),X(m,r.total_in>>24&255)):(M(m,r.adler>>>16),M(m,65535&r.adler)),V(r),m.wrap>0&&(m.wrap=-m.wrap),m.pending!==0?0:1)},E.deflateEnd=function(r){var p;return r&&r.state?(p=r.state.status)!==42&&p!==69&&p!==73&&p!==91&&p!==n&&p!==i&&p!==l?g(r,v):(r.state=null,p===i?g(r,-3):0):v},E.deflateSetDictionary=function(r,p){var L,m,G,J,q,d,b,a,y=p.length;if(!r||!r.state||(J=(L=r.state).wrap)===2||J===1&&L.status!==42||L.lookahead)return v;for(J===1&&(r.adler=I(r.adler,p,y,0)),L.wrap=0,y>=L.w_size&&(J===0&&(A(L.head),L.strstart=0,L.block_start=0,L.insert=0),a=new _.Buf8(L.w_size),_.arraySet(a,p,y-L.w_size,L.w_size,0),p=a,y=L.w_size),q=r.avail_in,d=r.next_in,b=r.input,r.avail_in=y,r.next_in=0,r.input=p,N(L);L.lookahead>=3;){m=L.strstart,G=L.lookahead-2;do L.ins_h=(L.ins_h<<L.hash_shift^L.window[m+3-1])&L.hash_mask,L.prev[m&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=m,m++;while(--G);L.strstart=m,L.lookahead=2,N(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,r.next_in=d,r.input=b,r.avail_in=q,L.wrap=J,0},E.deflateInfo="pako deflate (from Nodeca project)"},357:T=>{T.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:T=>{T.exports=function(E,h){var c,_,B,I,z,o,v,w,e,n,i,l,g,S,A,V,Y,X,M,x,N,u,F,K,D;c=E.state,_=E.next_in,K=E.input,B=_+(E.avail_in-5),I=E.next_out,D=E.output,z=I-(h-E.avail_out),o=I+(E.avail_out-257),v=c.dmax,w=c.wsize,e=c.whave,n=c.wnext,i=c.window,l=c.hold,g=c.bits,S=c.lencode,A=c.distcode,V=(1<<c.lenbits)-1,Y=(1<<c.distbits)-1;e:do{g<15&&(l+=K[_++]<<g,g+=8,l+=K[_++]<<g,g+=8),X=S[l&V];t:for(;;){if(l>>>=M=X>>>24,g-=M,(M=X>>>16&255)==0)D[I++]=65535&X;else{if(!(16&M)){if(!(64&M)){X=S[(65535&X)+(l&(1<<M)-1)];continue t}if(32&M){c.mode=12;break e}E.msg="invalid literal/length code",c.mode=30;break e}x=65535&X,(M&=15)&&(g<M&&(l+=K[_++]<<g,g+=8),x+=l&(1<<M)-1,l>>>=M,g-=M),g<15&&(l+=K[_++]<<g,g+=8,l+=K[_++]<<g,g+=8),X=A[l&Y];r:for(;;){if(l>>>=M=X>>>24,g-=M,!(16&(M=X>>>16&255))){if(!(64&M)){X=A[(65535&X)+(l&(1<<M)-1)];continue r}E.msg="invalid distance code",c.mode=30;break e}if(N=65535&X,g<(M&=15)&&(l+=K[_++]<<g,(g+=8)<M&&(l+=K[_++]<<g,g+=8)),(N+=l&(1<<M)-1)>v){E.msg="invalid distance too far back",c.mode=30;break e}if(l>>>=M,g-=M,N>(M=I-z)){if((M=N-M)>e&&c.sane){E.msg="invalid distance too far back",c.mode=30;break e}if(u=0,F=i,n===0){if(u+=w-M,M<x){x-=M;do D[I++]=i[u++];while(--M);u=I-N,F=D}}else if(n<M){if(u+=w+n-M,(M-=n)<x){x-=M;do D[I++]=i[u++];while(--M);if(u=0,n<x){x-=M=n;do D[I++]=i[u++];while(--M);u=I-N,F=D}}}else if(u+=n-M,M<x){x-=M;do D[I++]=i[u++];while(--M);u=I-N,F=D}for(;x>2;)D[I++]=F[u++],D[I++]=F[u++],D[I++]=F[u++],x-=3;x&&(D[I++]=F[u++],x>1&&(D[I++]=F[u++]))}else{u=I-N;do D[I++]=D[u++],D[I++]=D[u++],D[I++]=D[u++],x-=3;while(x>2);x&&(D[I++]=D[u++],x>1&&(D[I++]=D[u++]))}break}}break}}while(_<B&&I<o);_-=x=g>>3,l&=(1<<(g-=x<<3))-1,E.next_in=_,E.next_out=I,E.avail_in=_<B?B-_+5:5-(_-B),E.avail_out=I<o?o-I+257:257-(I-o),c.hold=l,c.bits=g}},20:(T,E,h)=>{var c=h(761),_=h(562),B=h(299),I=h(980),z=h(881),o=-2,v=12,w=30;function e(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function i(x){var N;return x&&x.state?(N=x.state,x.total_in=x.total_out=N.total=0,x.msg="",N.wrap&&(x.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new c.Buf32(852),N.distcode=N.distdyn=new c.Buf32(592),N.sane=1,N.back=-1,0):o}function l(x){var N;return x&&x.state?((N=x.state).wsize=0,N.whave=0,N.wnext=0,i(x)):o}function g(x,N){var u,F;return x&&x.state?(F=x.state,N<0?(u=0,N=-N):(u=1+(N>>4),N<48&&(N&=15)),N&&(N<8||N>15)?o:(F.window!==null&&F.wbits!==N&&(F.window=null),F.wrap=u,F.wbits=N,l(x))):o}function S(x,N){var u,F;return x?(F=new n,x.state=F,F.window=null,(u=g(x,N))!==0&&(x.state=null),u):o}var A,V,Y=!0;function X(x){if(Y){var N;for(A=new c.Buf32(512),V=new c.Buf32(32),N=0;N<144;)x.lens[N++]=8;for(;N<256;)x.lens[N++]=9;for(;N<280;)x.lens[N++]=7;for(;N<288;)x.lens[N++]=8;for(z(1,x.lens,0,288,A,0,x.work,{bits:9}),N=0;N<32;)x.lens[N++]=5;z(2,x.lens,0,32,V,0,x.work,{bits:5}),Y=!1}x.lencode=A,x.lenbits=9,x.distcode=V,x.distbits=5}function M(x,N,u,F){var K,D=x.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new c.Buf8(D.wsize)),F>=D.wsize?(c.arraySet(D.window,N,u-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):((K=D.wsize-D.wnext)>F&&(K=F),c.arraySet(D.window,N,u-F,K,D.wnext),(F-=K)?(c.arraySet(D.window,N,u-F,F,0),D.wnext=F,D.whave=D.wsize):(D.wnext+=K,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=K))),0}E.inflateReset=l,E.inflateReset2=g,E.inflateResetKeep=i,E.inflateInit=function(x){return S(x,15)},E.inflateInit2=S,E.inflate=function(x,N){var u,F,K,D,re,$,j,r,p,L,m,G,J,q,d,b,a,y,R,U,C,W,ee,Z,Q=0,te=new c.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return o;(u=x.state).mode===v&&(u.mode=13),re=x.next_out,K=x.output,j=x.avail_out,D=x.next_in,F=x.input,$=x.avail_in,r=u.hold,p=u.bits,L=$,m=j,W=0;e:for(;;)switch(u.mode){case 1:if(u.wrap===0){u.mode=13;break}for(;p<16;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(2&u.wrap&&r===35615){u.check=0,te[0]=255&r,te[1]=r>>>8&255,u.check=B(u.check,te,2,0),r=0,p=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&r)<<8)+(r>>8))%31){x.msg="incorrect header check",u.mode=w;break}if((15&r)!=8){x.msg="unknown compression method",u.mode=w;break}if(p-=4,C=8+(15&(r>>>=4)),u.wbits===0)u.wbits=C;else if(C>u.wbits){x.msg="invalid window size",u.mode=w;break}u.dmax=1<<C,x.adler=u.check=1,u.mode=512&r?10:v,r=0,p=0;break;case 2:for(;p<16;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(u.flags=r,(255&u.flags)!=8){x.msg="unknown compression method",u.mode=w;break}if(57344&u.flags){x.msg="unknown header flags set",u.mode=w;break}u.head&&(u.head.text=r>>8&1),512&u.flags&&(te[0]=255&r,te[1]=r>>>8&255,u.check=B(u.check,te,2,0)),r=0,p=0,u.mode=3;case 3:for(;p<32;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.head&&(u.head.time=r),512&u.flags&&(te[0]=255&r,te[1]=r>>>8&255,te[2]=r>>>16&255,te[3]=r>>>24&255,u.check=B(u.check,te,4,0)),r=0,p=0,u.mode=4;case 4:for(;p<16;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.head&&(u.head.xflags=255&r,u.head.os=r>>8),512&u.flags&&(te[0]=255&r,te[1]=r>>>8&255,u.check=B(u.check,te,2,0)),r=0,p=0,u.mode=5;case 5:if(1024&u.flags){for(;p<16;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.length=r,u.head&&(u.head.extra_len=r),512&u.flags&&(te[0]=255&r,te[1]=r>>>8&255,u.check=B(u.check,te,2,0)),r=0,p=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&((G=u.length)>$&&(G=$),G&&(u.head&&(C=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),c.arraySet(u.head.extra,F,D,G,C)),512&u.flags&&(u.check=B(u.check,F,G,D)),$-=G,D+=G,u.length-=G),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if($===0)break e;G=0;do C=F[D+G++],u.head&&C&&u.length<65536&&(u.head.name+=String.fromCharCode(C));while(C&&G<$);if(512&u.flags&&(u.check=B(u.check,F,G,D)),$-=G,D+=G,C)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if($===0)break e;G=0;do C=F[D+G++],u.head&&C&&u.length<65536&&(u.head.comment+=String.fromCharCode(C));while(C&&G<$);if(512&u.flags&&(u.check=B(u.check,F,G,D)),$-=G,D+=G,C)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;p<16;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(r!==(65535&u.check)){x.msg="header crc mismatch",u.mode=w;break}r=0,p=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),x.adler=u.check=0,u.mode=v;break;case 10:for(;p<32;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}x.adler=u.check=e(r),r=0,p=0,u.mode=11;case 11:if(u.havedict===0)return x.next_out=re,x.avail_out=j,x.next_in=D,x.avail_in=$,u.hold=r,u.bits=p,2;x.adler=u.check=1,u.mode=v;case v:if(N===5||N===6)break e;case 13:if(u.last){r>>>=7&p,p-=7&p,u.mode=27;break}for(;p<3;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}switch(u.last=1&r,p-=1,3&(r>>>=1)){case 0:u.mode=14;break;case 1:if(X(u),u.mode=20,N===6){r>>>=2,p-=2;break e}break;case 2:u.mode=17;break;case 3:x.msg="invalid block type",u.mode=w}r>>>=2,p-=2;break;case 14:for(r>>>=7&p,p-=7&p;p<32;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if((65535&r)!=(r>>>16^65535)){x.msg="invalid stored block lengths",u.mode=w;break}if(u.length=65535&r,r=0,p=0,u.mode=15,N===6)break e;case 15:u.mode=16;case 16:if(G=u.length){if(G>$&&(G=$),G>j&&(G=j),G===0)break e;c.arraySet(K,F,D,G,re),$-=G,D+=G,j-=G,re+=G,u.length-=G;break}u.mode=v;break;case 17:for(;p<14;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(u.nlen=257+(31&r),r>>>=5,p-=5,u.ndist=1+(31&r),r>>>=5,p-=5,u.ncode=4+(15&r),r>>>=4,p-=4,u.nlen>286||u.ndist>30){x.msg="too many length or distance symbols",u.mode=w;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;p<3;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.lens[ae[u.have++]]=7&r,r>>>=3,p-=3}for(;u.have<19;)u.lens[ae[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,ee={bits:u.lenbits},W=z(0,u.lens,0,19,u.lencode,0,u.work,ee),u.lenbits=ee.bits,W){x.msg="invalid code lengths set",u.mode=w;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;b=(Q=u.lencode[r&(1<<u.lenbits)-1])>>>16&255,a=65535&Q,!((d=Q>>>24)<=p);){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(a<16)r>>>=d,p-=d,u.lens[u.have++]=a;else{if(a===16){for(Z=d+2;p<Z;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(r>>>=d,p-=d,u.have===0){x.msg="invalid bit length repeat",u.mode=w;break}C=u.lens[u.have-1],G=3+(3&r),r>>>=2,p-=2}else if(a===17){for(Z=d+3;p<Z;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}p-=d,C=0,G=3+(7&(r>>>=d)),r>>>=3,p-=3}else{for(Z=d+7;p<Z;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}p-=d,C=0,G=11+(127&(r>>>=d)),r>>>=7,p-=7}if(u.have+G>u.nlen+u.ndist){x.msg="invalid bit length repeat",u.mode=w;break}for(;G--;)u.lens[u.have++]=C}}if(u.mode===w)break;if(u.lens[256]===0){x.msg="invalid code -- missing end-of-block",u.mode=w;break}if(u.lenbits=9,ee={bits:u.lenbits},W=z(1,u.lens,0,u.nlen,u.lencode,0,u.work,ee),u.lenbits=ee.bits,W){x.msg="invalid literal/lengths set",u.mode=w;break}if(u.distbits=6,u.distcode=u.distdyn,ee={bits:u.distbits},W=z(2,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,ee),u.distbits=ee.bits,W){x.msg="invalid distances set",u.mode=w;break}if(u.mode=20,N===6)break e;case 20:u.mode=21;case 21:if($>=6&&j>=258){x.next_out=re,x.avail_out=j,x.next_in=D,x.avail_in=$,u.hold=r,u.bits=p,I(x,m),re=x.next_out,K=x.output,j=x.avail_out,D=x.next_in,F=x.input,$=x.avail_in,r=u.hold,p=u.bits,u.mode===v&&(u.back=-1);break}for(u.back=0;b=(Q=u.lencode[r&(1<<u.lenbits)-1])>>>16&255,a=65535&Q,!((d=Q>>>24)<=p);){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(b&&!(240&b)){for(y=d,R=b,U=a;b=(Q=u.lencode[U+((r&(1<<y+R)-1)>>y)])>>>16&255,a=65535&Q,!(y+(d=Q>>>24)<=p);){if($===0)break e;$--,r+=F[D++]<<p,p+=8}r>>>=y,p-=y,u.back+=y}if(r>>>=d,p-=d,u.back+=d,u.length=a,b===0){u.mode=26;break}if(32&b){u.back=-1,u.mode=v;break}if(64&b){x.msg="invalid literal/length code",u.mode=w;break}u.extra=15&b,u.mode=22;case 22:if(u.extra){for(Z=u.extra;p<Z;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.length+=r&(1<<u.extra)-1,r>>>=u.extra,p-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;b=(Q=u.distcode[r&(1<<u.distbits)-1])>>>16&255,a=65535&Q,!((d=Q>>>24)<=p);){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(!(240&b)){for(y=d,R=b,U=a;b=(Q=u.distcode[U+((r&(1<<y+R)-1)>>y)])>>>16&255,a=65535&Q,!(y+(d=Q>>>24)<=p);){if($===0)break e;$--,r+=F[D++]<<p,p+=8}r>>>=y,p-=y,u.back+=y}if(r>>>=d,p-=d,u.back+=d,64&b){x.msg="invalid distance code",u.mode=w;break}u.offset=a,u.extra=15&b,u.mode=24;case 24:if(u.extra){for(Z=u.extra;p<Z;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}u.offset+=r&(1<<u.extra)-1,r>>>=u.extra,p-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){x.msg="invalid distance too far back",u.mode=w;break}u.mode=25;case 25:if(j===0)break e;if(G=m-j,u.offset>G){if((G=u.offset-G)>u.whave&&u.sane){x.msg="invalid distance too far back",u.mode=w;break}G>u.wnext?(G-=u.wnext,J=u.wsize-G):J=u.wnext-G,G>u.length&&(G=u.length),q=u.window}else q=K,J=re-u.offset,G=u.length;G>j&&(G=j),j-=G,u.length-=G;do K[re++]=q[J++];while(--G);u.length===0&&(u.mode=21);break;case 26:if(j===0)break e;K[re++]=u.length,j--,u.mode=21;break;case 27:if(u.wrap){for(;p<32;){if($===0)break e;$--,r|=F[D++]<<p,p+=8}if(m-=j,x.total_out+=m,u.total+=m,m&&(x.adler=u.check=u.flags?B(u.check,K,m,re-m):_(u.check,K,m,re-m)),m=j,(u.flags?r:e(r))!==u.check){x.msg="incorrect data check",u.mode=w;break}r=0,p=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;p<32;){if($===0)break e;$--,r+=F[D++]<<p,p+=8}if(r!==(4294967295&u.total)){x.msg="incorrect length check",u.mode=w;break}r=0,p=0}u.mode=29;case 29:W=1;break e;case w:W=-3;break e;case 31:return-4;default:return o}return x.next_out=re,x.avail_out=j,x.next_in=D,x.avail_in=$,u.hold=r,u.bits=p,(u.wsize||m!==x.avail_out&&u.mode<w&&(u.mode<27||N!==4))&&M(x,x.output,x.next_out,m-x.avail_out)?(u.mode=31,-4):(L-=x.avail_in,m-=x.avail_out,x.total_in+=L,x.total_out+=m,u.total+=m,u.wrap&&m&&(x.adler=u.check=u.flags?B(u.check,K,m,x.next_out-m):_(u.check,K,m,x.next_out-m)),x.data_type=u.bits+(u.last?64:0)+(u.mode===v?128:0)+(u.mode===20||u.mode===15?256:0),(L===0&&m===0||N===4)&&W===0&&(W=-5),W)},E.inflateEnd=function(x){if(!x||!x.state)return o;var N=x.state;return N.window&&(N.window=null),x.state=null,0},E.inflateGetHeader=function(x,N){var u;return x&&x.state&&2&(u=x.state).wrap?(u.head=N,N.done=!1,0):o},E.inflateSetDictionary=function(x,N){var u,F=N.length;return x&&x.state?(u=x.state).wrap!==0&&u.mode!==11?o:u.mode===11&&_(1,N,F,0)!==u.check?-3:M(x,N,F,F)?(u.mode=31,-4):(u.havedict=1,0):o},E.inflateInfo="pako inflate (from Nodeca project)"},881:(T,E,h)=>{var c=h(761),_=15,B=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];T.exports=function(v,w,e,n,i,l,g,S){var A,V,Y,X,M,x,N,u,F,K=S.bits,D=0,re=0,$=0,j=0,r=0,p=0,L=0,m=0,G=0,J=0,q=null,d=0,b=new c.Buf16(16),a=new c.Buf16(16),y=null,R=0;for(D=0;D<=_;D++)b[D]=0;for(re=0;re<n;re++)b[w[e+re]]++;for(r=K,j=_;j>=1&&b[j]===0;j--);if(r>j&&(r=j),j===0)return i[l++]=20971520,i[l++]=20971520,S.bits=1,0;for($=1;$<j&&b[$]===0;$++);for(r<$&&(r=$),m=1,D=1;D<=_;D++)if(m<<=1,(m-=b[D])<0)return-1;if(m>0&&(v===0||j!==1))return-1;for(a[1]=0,D=1;D<_;D++)a[D+1]=a[D]+b[D];for(re=0;re<n;re++)w[e+re]!==0&&(g[a[w[e+re]]++]=re);if(v===0?(q=y=g,x=19):v===1?(q=B,d-=257,y=I,R-=257,x=256):(q=z,y=o,x=-1),J=0,re=0,D=$,M=l,p=r,L=0,Y=-1,X=(G=1<<r)-1,v===1&&G>852||v===2&&G>592)return 1;for(;;){N=D-L,g[re]<x?(u=0,F=g[re]):g[re]>x?(u=y[R+g[re]],F=q[d+g[re]]):(u=96,F=0),A=1<<D-L,$=V=1<<p;do i[M+(J>>L)+(V-=A)]=N<<24|u<<16|F|0;while(V!==0);for(A=1<<D-1;J&A;)A>>=1;if(A!==0?(J&=A-1,J+=A):J=0,re++,--b[D]==0){if(D===j)break;D=w[e+g[re]]}if(D>r&&(J&X)!==Y){for(L===0&&(L=r),M+=$,m=1<<(p=D-L);p+L<j&&!((m-=b[p+L])<=0);)p++,m<<=1;if(G+=1<<p,v===1&&G>852||v===2&&G>592)return 1;i[Y=J&X]=r<<24|p<<16|M-l|0}}return J!==0&&(i[M+J]=D-L<<24|4194304|0),S.bits=r,0}},950:T=>{T.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(T,E,h)=>{var c=h(761);function _(a){for(var y=a.length;--y>=0;)a[y]=0}var B=256,I=286,z=30,o=15,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i=new Array(576);_(i);var l=new Array(60);_(l);var g=new Array(512);_(g);var S=new Array(256);_(S);var A=new Array(29);_(A);var V,Y,X,M=new Array(z);function x(a,y,R,U,C){this.static_tree=a,this.extra_bits=y,this.extra_base=R,this.elems=U,this.max_length=C,this.has_stree=a&&a.length}function N(a,y){this.dyn_tree=a,this.max_code=0,this.stat_desc=y}function u(a){return a<256?g[a]:g[256+(a>>>7)]}function F(a,y){a.pending_buf[a.pending++]=255&y,a.pending_buf[a.pending++]=y>>>8&255}function K(a,y,R){a.bi_valid>16-R?(a.bi_buf|=y<<a.bi_valid&65535,F(a,a.bi_buf),a.bi_buf=y>>16-a.bi_valid,a.bi_valid+=R-16):(a.bi_buf|=y<<a.bi_valid&65535,a.bi_valid+=R)}function D(a,y,R){K(a,R[2*y],R[2*y+1])}function re(a,y){var R=0;do R|=1&a,a>>>=1,R<<=1;while(--y>0);return R>>>1}function $(a,y,R){var U,C,W=new Array(16),ee=0;for(U=1;U<=o;U++)W[U]=ee=ee+R[U-1]<<1;for(C=0;C<=y;C++){var Z=a[2*C+1];Z!==0&&(a[2*C]=re(W[Z]++,Z))}}function j(a){var y;for(y=0;y<I;y++)a.dyn_ltree[2*y]=0;for(y=0;y<z;y++)a.dyn_dtree[2*y]=0;for(y=0;y<19;y++)a.bl_tree[2*y]=0;a.dyn_ltree[512]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function r(a){a.bi_valid>8?F(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,y,R,U){var C=2*y,W=2*R;return a[C]<a[W]||a[C]===a[W]&&U[y]<=U[R]}function L(a,y,R){for(var U=a.heap[R],C=R<<1;C<=a.heap_len&&(C<a.heap_len&&p(y,a.heap[C+1],a.heap[C],a.depth)&&C++,!p(y,U,a.heap[C],a.depth));)a.heap[R]=a.heap[C],R=C,C<<=1;a.heap[R]=U}function m(a,y,R){var U,C,W,ee,Z=0;if(a.last_lit!==0)do U=a.pending_buf[a.d_buf+2*Z]<<8|a.pending_buf[a.d_buf+2*Z+1],C=a.pending_buf[a.l_buf+Z],Z++,U===0?D(a,C,y):(D(a,(W=S[C])+B+1,y),(ee=v[W])!==0&&K(a,C-=A[W],ee),D(a,W=u(--U),R),(ee=w[W])!==0&&K(a,U-=M[W],ee));while(Z<a.last_lit);D(a,256,y)}function G(a,y){var R,U,C,W=y.dyn_tree,ee=y.stat_desc.static_tree,Z=y.stat_desc.has_stree,Q=y.stat_desc.elems,te=-1;for(a.heap_len=0,a.heap_max=573,R=0;R<Q;R++)W[2*R]!==0?(a.heap[++a.heap_len]=te=R,a.depth[R]=0):W[2*R+1]=0;for(;a.heap_len<2;)W[2*(C=a.heap[++a.heap_len]=te<2?++te:0)]=1,a.depth[C]=0,a.opt_len--,Z&&(a.static_len-=ee[2*C+1]);for(y.max_code=te,R=a.heap_len>>1;R>=1;R--)L(a,W,R);C=Q;do R=a.heap[1],a.heap[1]=a.heap[a.heap_len--],L(a,W,1),U=a.heap[1],a.heap[--a.heap_max]=R,a.heap[--a.heap_max]=U,W[2*C]=W[2*R]+W[2*U],a.depth[C]=(a.depth[R]>=a.depth[U]?a.depth[R]:a.depth[U])+1,W[2*R+1]=W[2*U+1]=C,a.heap[1]=C++,L(a,W,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],function(ae,he){var le,fe,t,s,f,P,k=he.dyn_tree,O=he.max_code,H=he.stat_desc.static_tree,ne=he.stat_desc.has_stree,se=he.stat_desc.extra_bits,ue=he.stat_desc.extra_base,ie=he.stat_desc.max_length,oe=0;for(s=0;s<=o;s++)ae.bl_count[s]=0;for(k[2*ae.heap[ae.heap_max]+1]=0,le=ae.heap_max+1;le<573;le++)(s=k[2*k[2*(fe=ae.heap[le])+1]+1]+1)>ie&&(s=ie,oe++),k[2*fe+1]=s,fe>O||(ae.bl_count[s]++,f=0,fe>=ue&&(f=se[fe-ue]),P=k[2*fe],ae.opt_len+=P*(s+f),ne&&(ae.static_len+=P*(H[2*fe+1]+f)));if(oe!==0){do{for(s=ie-1;ae.bl_count[s]===0;)s--;ae.bl_count[s]--,ae.bl_count[s+1]+=2,ae.bl_count[ie]--,oe-=2}while(oe>0);for(s=ie;s!==0;s--)for(fe=ae.bl_count[s];fe!==0;)(t=ae.heap[--le])>O||(k[2*t+1]!==s&&(ae.opt_len+=(s-k[2*t+1])*k[2*t],k[2*t+1]=s),fe--)}}(a,y),$(W,te,a.bl_count)}function J(a,y,R){var U,C,W=-1,ee=y[1],Z=0,Q=7,te=4;for(ee===0&&(Q=138,te=3),y[2*(R+1)+1]=65535,U=0;U<=R;U++)C=ee,ee=y[2*(U+1)+1],++Z<Q&&C===ee||(Z<te?a.bl_tree[2*C]+=Z:C!==0?(C!==W&&a.bl_tree[2*C]++,a.bl_tree[32]++):Z<=10?a.bl_tree[34]++:a.bl_tree[36]++,Z=0,W=C,ee===0?(Q=138,te=3):C===ee?(Q=6,te=3):(Q=7,te=4))}function q(a,y,R){var U,C,W=-1,ee=y[1],Z=0,Q=7,te=4;for(ee===0&&(Q=138,te=3),U=0;U<=R;U++)if(C=ee,ee=y[2*(U+1)+1],!(++Z<Q&&C===ee)){if(Z<te)do D(a,C,a.bl_tree);while(--Z!=0);else C!==0?(C!==W&&(D(a,C,a.bl_tree),Z--),D(a,16,a.bl_tree),K(a,Z-3,2)):Z<=10?(D(a,17,a.bl_tree),K(a,Z-3,3)):(D(a,18,a.bl_tree),K(a,Z-11,7));Z=0,W=C,ee===0?(Q=138,te=3):C===ee?(Q=6,te=3):(Q=7,te=4)}}_(M);var d=!1;function b(a,y,R,U){K(a,0+(U?1:0),3),function(C,W,ee,Z){r(C),F(C,ee),F(C,~ee),c.arraySet(C.pending_buf,C.window,W,ee,C.pending),C.pending+=ee}(a,y,R)}E.p=function(a){d||(function(){var y,R,U,C,W,ee=new Array(16);for(U=0,C=0;C<28;C++)for(A[C]=U,y=0;y<1<<v[C];y++)S[U++]=C;for(S[U-1]=C,W=0,C=0;C<16;C++)for(M[C]=W,y=0;y<1<<w[C];y++)g[W++]=C;for(W>>=7;C<z;C++)for(M[C]=W<<7,y=0;y<1<<w[C]-7;y++)g[256+W++]=C;for(R=0;R<=o;R++)ee[R]=0;for(y=0;y<=143;)i[2*y+1]=8,y++,ee[8]++;for(;y<=255;)i[2*y+1]=9,y++,ee[9]++;for(;y<=279;)i[2*y+1]=7,y++,ee[7]++;for(;y<=287;)i[2*y+1]=8,y++,ee[8]++;for($(i,287,ee),y=0;y<z;y++)l[2*y+1]=5,l[2*y]=re(y,5);V=new x(i,v,257,I,o),Y=new x(l,w,0,z,o),X=new x(new Array(0),e,0,19,7)}(),d=!0),a.l_desc=new N(a.dyn_ltree,V),a.d_desc=new N(a.dyn_dtree,Y),a.bl_desc=new N(a.bl_tree,X),a.bi_buf=0,a.bi_valid=0,j(a)},E.m=b,E.h=function(a,y,R,U){var C,W,ee=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=function(Z){var Q,te=4093624447;for(Q=0;Q<=31;Q++,te>>>=1)if(1&te&&Z.dyn_ltree[2*Q]!==0)return 0;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return 1;for(Q=32;Q<B;Q++)if(Z.dyn_ltree[2*Q]!==0)return 1;return 0}(a)),G(a,a.l_desc),G(a,a.d_desc),ee=function(Z){var Q;for(J(Z,Z.dyn_ltree,Z.l_desc.max_code),J(Z,Z.dyn_dtree,Z.d_desc.max_code),G(Z,Z.bl_desc),Q=18;Q>=3&&Z.bl_tree[2*n[Q]+1]===0;Q--);return Z.opt_len+=3*(Q+1)+5+5+4,Q}(a),C=a.opt_len+3+7>>>3,(W=a.static_len+3+7>>>3)<=C&&(C=W)):C=W=R+5,R+4<=C&&y!==-1?b(a,y,R,U):a.strategy===4||W===C?(K(a,2+(U?1:0),3),m(a,i,l)):(K(a,4+(U?1:0),3),function(Z,Q,te,ae){var he;for(K(Z,Q-257,5),K(Z,te-1,5),K(Z,ae-4,4),he=0;he<ae;he++)K(Z,Z.bl_tree[2*n[he]+1],3);q(Z,Z.dyn_ltree,Q-1),q(Z,Z.dyn_dtree,te-1)}(a,a.l_desc.max_code+1,a.d_desc.max_code+1,ee+1),m(a,a.dyn_ltree,a.dyn_dtree)),j(a),U&&r(a)},E.l=function(a,y,R){return a.pending_buf[a.d_buf+2*a.last_lit]=y>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&y,a.pending_buf[a.l_buf+a.last_lit]=255&R,a.last_lit++,y===0?a.dyn_ltree[2*R]++:(a.matches++,y--,a.dyn_ltree[2*(S[R]+B+1)]++,a.dyn_dtree[2*u(y)]++),a.last_lit===a.lit_bufsize-1},E.g=function(a){K(a,2,3),D(a,256,i),function(y){y.bi_valid===16?(F(y,y.bi_buf),y.bi_buf=0,y.bi_valid=0):y.bi_valid>=8&&(y.pending_buf[y.pending++]=255&y.bi_buf,y.bi_buf>>=8,y.bi_valid-=8)}(a)}},744:T=>{T.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(T,E,h)=>{var c,_;h.d(E,{s:()=>c,S:()=>_}),function(B){B[B.Inport=0]="Inport",B[B.Outport=1]="Outport",B[B.Undefined=2]="Undefined"}(c||(c={})),function(B){B[B.STOPPED=0]="STOPPED",B[B.RUNNING=1]="RUNNING"}(_||(_={}))},676:(T,E,h)=>{h.d(E,{D:()=>c});const c=0},641:(T,E,h)=>{var c;h.d(E,{OM:()=>I,Le:()=>B,nc:()=>_,n_:()=>z}),function(o){o[o.Float32Audio=0]="Float32Audio",o[o.TypedArray=1]="TypedArray"}(c||(c={}));class _{constructor(){this.type=c.TypedArray}serialize(){return{type:this.type}}}class B{constructor(v,w){this.channels=0,this.sampleRate=0,this.type=c.Float32Audio,this.channels=v,this.sampleRate=w}static fromAudioBuffer(v){return new B(v.numberOfChannels,v.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class I{constructor(v,w){this.buffer=v,this._=w}getAsAudioBuffer(v){if(this._ instanceof B&&this._.channels>0){const n=new Float32Array(this.buffer),i=n.length/this._.channels,l=v.createBuffer(this._.channels,i,this._.sampleRate);for(let g=0;g<this._.channels;g++){const S=l.getChannelData(g);for(let A=0,V=S.length;A<V;A++)S[A]=n[A*l.numberOfChannels+g]}return l}const w=new Float32Array(this.buffer),e=v.createBuffer(1,w.length,v.sampleRate);return e.copyToChannel(w,0),e}}const z=o=>{switch(o.type){case c.Float32Audio:return new B(o.channels,o.sampleRate);case c.TypedArray:return new _;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${o.type}`)}}},191:(T,E,h)=>{h.d(E,{v:()=>z});var c=h(163),_=h(347),B=h(389),I=h(133);class z{constructor(){this.I=0,this.M=44100,this.A=64,this.outgoingEvent=new B.BM,this.parameterChangeEvent=new B.BM,this.B=this.sampsToMs(this.A)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(v){return v},convertToNormalizedParameterValue:function(v){return v},convertFromNormalizedParameterValue:function(v){return v},getNumParameters:function(){return 0},constrainParameterValue:function(v){return v},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(v){if(v){const w={},e=Object.keys(v);for(let n=0;n<e.length;n++){const i=e[n];if(i==="subpatches"){const l=Object.keys(v.subpatches);for(let g=0;g<l.length;g++){const S=l[g],A=v.subpatches[S],V=z.deserializeConversion(A);A.isPolyphonic?w[S]=[V]:w[S]=V}}else w[i]=I.evalFunction(v[i])}return w}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.A}sampsToMs(v){return v/this.M*1e3}getNumInputChannels(){return this.T?this.T.numInputChannels:0}getNumOutputChannels(){return this.T?this.T.numOutputChannels:0}getNumMIDIInputPorts(){return this.T?this.T.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.T?this.T.numMidiOutputPorts:0}getNumParameters(){return this.T?this.T.numParameters:0}getNumSignalInParameters(){return this.T?this.T.numSignalInParameters:0}getNumSignalOutParameters(){return this.T?this.T.numSignalOutParameters:0}getPatcherSerial(){return this.T!==void 0?this.T.patcherSerial:0}getParameterName(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);return this.T.parameters[v].name}getParameterId(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);return this.T.parameters[v].paramId}getParameterToNormalizedFunction(v){return w=>this.P.convertToNormalizedParameterValue(v,w)}getParameterFromNormalizedFunction(v){return w=>this.P.convertFromNormalizedParameterValue(v,w)}constrainParameterValue(v){return w=>this.P.constrainParameterValue(v,w)}getParameterInfo(v){if(!this.T||v>=this.T.parameters.length)throw new Error(`Parameter index ${v} out of bounds.`);const w=this.T.parameters[v];let e,n;switch(w.type){case"ParameterTypeBang":n=I.ParameterTypeBang;break;case"ParameterTypeCount":n=I.ParameterTypeCount;break;case"ParameterTypeList":n=I.ParameterTypeList;break;case"ParameterTypeNumber":n=I.ParameterTypeNumber;break;case"ParameterTypeSignal":n=I.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${w.type}`)}switch(w.ioType){case"IOTypeInput":e=I.IOTypeInput;break;case"IOTypeOutput":e=I.IOTypeOutput;break;case"IOTypeUndefined":e=I.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${w.type}`)}return{displayName:w.displayName,enumValues:w.enumValues,exponent:w.exponent,id:w.paramId,index:v,initialValue:w.initialValue,ioType:e,isEnum:w.isEnum,max:w.maximum,min:w.minimum,name:w.name,signalIndex:w.signalIndex,steps:w.steps,type:n,unit:w.unit,visible:w.visible}}getNumExternalDataRefs(){return this.T!==void 0?this.T.externalDataRefs.length:0}getExternalDataId(v){return this.T!==void 0?this.T.externalDataRefs[v].id:""}getExternalDataRefIds(){let v;return this.T&&(v=[],Object.keys(this.T.externalDataRefs).forEach(w=>{let e=this.T.externalDataRefs[w];v.push(e.id)})),v}getExternalDataRefInfos(){return this.T!==void 0?this.T.externalDataRefs:[]}getNumMessages(){return this.T!==void 0?this.T.inports.length+this.T.outports.length:0}getMessageInfos(){let v=[];return this.T!==void 0&&(Object.keys(this.T.outports).forEach(w=>{v.push({tag:this.T.outports[w].tag,type:_.s.Outport,meta:this.T.outports[w].meta})}),Object.keys(this.T.inports).forEach(w=>{v.push({tag:this.T.inports[w].tag,type:_.s.Inport,meta:this.T.inports[w].meta})})),v}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(v){return(0,c.mG)(this,void 0,void 0,function*(){this.T=v,this.P=z.deserializeConversion(this.T.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(T){this.R.isReady()&&this.R.setCurrentTime(T)}prepareToProcess(T,E,h){(h||T!==this.M||E!==this.A)&&this.R.prepareToProcess(T,E)}process(T,E,h,c,_,B,I){this.R.process(T,E,h,c,_)}scheduleMidiEvent(T,E){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,T,E))}handleParameterEvent(T){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(T.time,T.index,T.value,T.source))}handleMidiEvent(T){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(T.time,T.port,[T.b1,T.b2,T.b3],void 0))}handleMessageEvent(T){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(T.time,this.R.resolveTag(T.tag),T.type===0?T.numValue:T.type===1?this.R.retrieveArray(T.listValue):void 0,this.R.resolveTag(T.objectId)))}handlePresetEvent(T){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(T.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(T){return this.R.getParameterValue(T)}get isSync(){return!0}scheduleEvent(T){this.R.scheduleEvent(T)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(T=>(delete T.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,T),resolve()))})})}setExternalData(T,E,h){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(T,E,h)})}releaseExternalData(T){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[E,h]=this.R.releaseExternalData(T);return{data:E,typeDesc:h}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(T){this.R.setPreset(JSON.stringify(T))}}},158:(T,E,h)=>{h.d(E,{z:()=>I});var c=h(641),_=h(555),B=h(856);class I{constructor(o,v){this.O=0,this.C=0,this.N=!1,this.k=new B.aO,this.U=v;let w=new this.U.CoreObject;this.j=w;let e={handleParameterEvent:o.handleParameterEvent.bind(o),handleMidiEvent:o.handleMidiEvent.bind(o),handleMessageEvent:o.handleMessageEvent.bind(o),handlePresetEvent:o.handlePresetEvent.bind(o)},n=this.U.EventHandler.implement(e);this.F=w.createParameterInterface(n);for(let i=0;i<w.getNumParameters();i++){let l=w.getParameterInfo(i);this.k.addParam(l,w.getParameterName(i))}this.O=w.getNumInputChannels()+w.getNumSignalInParameters(),this.C=w.getNumOutputChannels(),this.N=!0}isReady(){return this.N}pushArray(o){let v=this.j.getArrayPassingHEAP(o.length);return this.U.HEAPF64.set(o,v>>3),v}retrieveArray(o){let v=[];for(let w=0;w<o.size();w++)v.push(o.get(w));return v}setExternalData(o,v,w){const e=new Uint8Array(v),n=this.j.getNewMemoryBuffer(e.byteLength);this.U.HEAPU8.set(e,n),w instanceof c.Le?this.j.setExternalAudioBuffer(o,n,e.byteLength,w.channels,w.sampleRate):w instanceof c.nc&&this.j.setExternalUntypedBuffer(o,n,e.byteLength)}releaseExternalData(o){let v,w=this.j.getDataRefIndex(o),e=this.j.getDataRefType(w),n=this.j.getDataRefData(w),i=new Uint8Array(n.sizeInBytes);return i.set(this.U.HEAPU8.subarray(n.data,n.data+n.sizeInBytes)),v=e.type==1?new c.Le(e.channels,e.sampleRate):new c.nc,this.j.releaseDataRef(w),[i.buffer,v]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(o){this.j.setCurrentTime(o)}prepareToProcess(o,v){this.j.prepareToProcess(o,v)}process(o,v,w,e,n,i){let l=0,g=0;for(let S=0;S<v&&l<this.O;S++){let A=o[S],V=this.j.getInputChannel(l);this.U.HEAPF64.set(A,V>>3),l++}if(i)for(let S=l;S<this.O;S++){let A=this.k.getParamName(S);if(A!==void 0){let V=this.j.getInputChannel(S);this.U.HEAPF64.set(this.k.getParamArray(S,i[A],n),V>>3),l++}}this.j.process(l,this.C,n);for(let S=0;S<e&&g<this.C;S++){let A=w[S],V=this.j.getOutputChannel(g)>>3;A.set(this.U.HEAPF64.subarray(V,V+A.length)),g++}}resolveTag(o){return this.j.resolveTag(o)}scheduleEvent(o){o.type===_.m5.MIDIEvent?this.j.scheduleMidiEvent(o.time,o.port,o.data[0],o.data[1],o.data[2]):o.type===_.m5.ParameterEvent?this.j.scheduleParameterEvent(o.target,o.time,o.value,o.source):o.type===_.m5.MessageEvent?Array.isArray(o.payload)?this.j.sendListMessage(o.tag,o.objectId,this.pushArray(o.payload),o.payload.length,o.time):typeof o.payload=="number"?this.j.sendNumMessage(o.tag,o.objectId,o.payload,o.time):o.payload===void 0&&this.j.sendBangMessage(o.tag,o.objectId,o.time):o.type===_.m5.TransportEvent?this.j.scheduleTransportEvent(o.time,o.state):o.type===_.m5.TempoEvent?this.j.scheduleTempoEvent(o.time,o.tempo):o.type===_.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(o.time,o.beattime):o.type===_.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(o.time,o.numerator,o.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(o){return this.j.getParameterValue(o)}numIns(){return this.O}numOuts(){return this.C}getPreset(){return this.j.getPreset()}setPreset(o){this.j.setPreset(o)}}},555:(T,E,h)=>{h.d(E,{j4:()=>o,J0:()=>A,J9:()=>v,Lk:()=>w,VH:()=>_,m5:()=>c,Ym:()=>n,f3:()=>e,DB:()=>i,bt:()=>l,l0:()=>B,j6:()=>Y,gs:()=>S,QU:()=>V,cr:()=>g,gA:()=>I,f4:()=>X});var c,_,B,I,z=h(676);(function(M){M[M.BufferTransfer=0]="BufferTransfer",M[M.ClockEvent=1]="ClockEvent",M[M.DataRefEvent=2]="DataRefEvent",M[M.MessageEvent=3]="MessageEvent",M[M.MIDIEvent=4]="MIDIEvent",M[M.ParameterEvent=5]="ParameterEvent",M[M.PresetEvent=6]="PresetEvent",M[M.StartupEvent=7]="StartupEvent",M[M.TransportEvent=8]="TransportEvent",M[M.TempoEvent=9]="TempoEvent",M[M.BeatTimeEvent=10]="BeatTimeEvent",M[M.TimeSignatureEvent=11]="TimeSignatureEvent"})(c||(c={}));class o{constructor(x=z.D,N){this.invalid=!1,this.time=x,this.eventTarget=N}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class v extends o{constructor(x,N,u,F){super(x,F),this.type=c.ClockEvent,this.clockIndex=N,this.value=u}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(M){M[M.Update=1]="Update"})(_||(_={}));class w extends o{constructor(x,N,u,F){super(x,F),this.type=c.DataRefEvent,this.dataRefIndex=N,this.action=u}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class e extends o{constructor(x,N,u,F="",K){super(x,K),this.type=c.MessageEvent,this.objectId=F,this.tag=N,this.payload=u}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class n extends o{constructor(x,N,u,F){if(super(x,F),this.type=c.MIDIEvent,u.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${u.length}`);if(this.data=u,this.data.length<3){const D=u.length;this.data.length=3,this.data=this.data.fill(void 0,D,3)}let K=0;for(let D=0;D<3;D++)u[D]!==void 0&&K++;if(K<1)throw new Error("MIDIData must at least have the first byte set.");this.length=K,this.status=240&u[0],this.channel=15&u[0],this.port=N}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class i extends o{constructor(x,N,u,F,K){super(x,K),this.type=c.ParameterEvent,this.target=N,this.value=u,this.source=F}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}(function(M){M[M.Set=1]="Set",M[M.Touched=2]="Touched"})(B||(B={}));class l extends o{constructor(x,N,u){super(x,void 0),this.type=c.PresetEvent,this.action=N,this.preset=u}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class g extends o{constructor(x,N){super(x,void 0),this.type=c.TransportEvent,this.state=N}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class S extends o{constructor(x,N){super(x,void 0),this.type=c.TempoEvent,this.tempo=N}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class A extends o{constructor(x,N){super(x,void 0),this.type=c.BeatTimeEvent,this.beattime=N}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class V extends o{constructor(x,N,u){super(x,void 0),this.type=c.TimeSignatureEvent,this.numerator=N,this.denominator=u}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(M){M[M.BEGIN=0]="BEGIN",M[M.END=1]="END"})(I||(I={}));class Y extends o{constructor(x,N){super(x,void 0),this.type=c.StartupEvent,this.phase=N}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const X=M=>{switch(M.type){case c.ClockEvent:return new v(M.time,M.clockIndex,M.value,M.eventTarget);case c.DataRefEvent:return new w(M.time,M.dataRefIndex,M.action,M.eventTarget);case c.MessageEvent:return new e(M.time,M.tag,M.payload,M.objectId,M.eventTarget);case c.MIDIEvent:return new n(M.time,M.port,M.data,M.eventTarget);case c.ParameterEvent:return new i(M.time,M.target,M.value,M.source,M.eventTarget);case c.PresetEvent:return new l(M.time,M.action,M.preset);case c.TransportEvent:return new g(M.time,M.state);case c.TempoEvent:return new S(M.time,M.tempo);case c.BeatTimeEvent:return new A(M.time,M.beattime);case c.TimeSignatureEvent:return new V(M.time,M.numerator,M.denominator);case c.StartupEvent:return new Y(M.time,M.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${M.type}`)}}},400:(T,E,h)=>{var c,_;h.d(E,{r:()=>c,E:()=>_}),function(B){B[B.Number=0]="Number",B[B.Bang=1]="Bang",B[B.List=2]="List",B[B.Signal=3]="Signal",B[B.Count=4]="Count",B[B.Enum=5]="Enum"}(c||(c={})),function(B){B[B.All=0]="All",B[B.Internal=1]="Internal"}(_||(_={}))},856:(T,E,h)=>{h.d(E,{jN:()=>o,IR:()=>B,V2:()=>z,BX:()=>I,EX:()=>c.E,rH:()=>c.r,aO:()=>e,zT:()=>w});var c=h(400),_=h(389);function B(n){return class extends n{constructor(...i){super(),this.changeEvent=new _.BM,this.L=new _.BM;const l=i[0];this.X=l.notificationSetting,this.convertFromNormalizedValue=l.scaling.convertFromNormalized,this.convertToNormalizedValue=l.scaling.convertToNormalized,this.constrainParameterValue=l.scaling.constrainParameterValue,this.initialValue=l.initialValue,this.V=l.initialValue,this.displayName=l.displayName||l.name,this.exponent=l.exponent,this.id=l.id,this.index=l.index,this.min=l.min,this.max=l.max,this.name=l.name,this.steps=l.steps,this.unit=l.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(i){this.q(this.convertFromNormalizedValue(i))}$(i){this.X=i}q(i){i=this.constrainParameterValue(i),this.V!==i&&(this.V=i,this.L.emit(this),this.notificationSetting===c.E.All&&this.changeEvent.emit(i))}W(i){this.V=i,this.changeEvent.emit(i)}}}class I extends B(Object){constructor(i){super(i),this.type=c.r.Number}get value(){return this.V}set value(i){this.q(i)}}class z extends B(Object){constructor(i){super(i),this.type=c.r.Enum,this.G=i.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(i){const l=this.G.indexOf(i);if(l<0)throw new Error(`Invalid EnumValue. ${i} is not an available value on the enum parameter ${this.name}`);this.value=l}get value(){return this.V}set value(i){this.q(i)}}class o extends B(Object){constructor(){super(...arguments),this.type=c.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var v=h(133);const w=(n,i,l,g)=>n.type===c.r.Number&&n.enumValues.length?new z(Object.assign(Object.assign({},n),{scaling:g,index:i,notificationSetting:l})):n.type===c.r.Bang?new o(Object.assign(Object.assign({},n),{scaling:g,index:i,notificationSetting:l})):(n.type,c.r.Number,new I(Object.assign(Object.assign({},n),{scaling:g,index:i,notificationSetting:l})));class e{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(i,l){i.type==v.ParameterTypeSignal&&i.ioType===v.IOTypeInput&&(this.K[i.signalIndex]={name:l,param:new Float32Array(128)})}getParamName(i){let l=this.K[i];return l!==void 0?l.name:void 0}getParamArray(i,l,g){if(l.length==g)return l;{let S=this.K[i];return S.param.length!=g&&(S.param=new Float32Array(g)),S.param.fill(l[0])}}}},389:(T,E,h)=>{h.d(E,{f8:()=>c,e1:()=>_,I7:()=>B,EL:()=>z,BM:()=>v});const c=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const w=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(w instanceof WebAssembly.Module)return new WebAssembly.Instance(w)instanceof WebAssembly.Instance}}catch{}return!1})();class _{fromRNBOtime(e){return .001*e}toRNBOtime(e){return 1e3*e}}const B=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let I=Math.pow(10,4);const z=()=>(I>=Number.MAX_SAFE_INTEGER&&(I=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(I++).toString(10).slice(-4)}`,10)),o=w=>w.slice();class v{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(e){if(this.Z.length){const n=o(this.Z);for(let i=0,l=n.length;i<l;i++)n[i](e)}if(this.H.length){const n=o(this.H);for(let i=0,l=n.length;i<l;i++)n[i](e);n.forEach(i=>this.unsubscribe(i))}}once(e){return this.H.push(e),{unsubscribe:()=>this.unsubscribe(e)}}subscribe(e){return this.Z.push(e),{unsubscribe:()=>this.unsubscribe(e)}}unsubscribe(e){const n=this.Z.indexOf(e);n>=0&&this.Z.splice(n,1);const i=this.H.indexOf(e);i>=0&&this.H.splice(i,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(T,E,h)=>{function c(_,B,I,z){return new(I||(I=Promise))(function(o,v){function w(i){try{n(z.next(i))}catch(l){v(l)}}function e(i){try{n(z.throw(i))}catch(l){v(l)}}function n(i){var l;i.done?o(i.value):(l=i.value,l instanceof I?l:new I(function(g){g(l)})).then(w,e)}n((z=z.apply(_,B||[])).next())})}h.d(E,{mG:()=>c})},264:T=>{T.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(T){var E=__webpack_module_cache__[T];if(E!==void 0)return E.exports;var h=__webpack_module_cache__[T]={exports:{}};return __webpack_modules__[T](h,h.exports,__webpack_require__),h.exports}__webpack_require__.n=T=>{var E=T&&T.J?()=>T.default:()=>T;return __webpack_require__.d(E,{a:E}),E},__webpack_require__.d=(T,E)=>{for(var h in E)__webpack_require__.o(E,h)&&!__webpack_require__.o(T,h)&&Object.defineProperty(T,h,{enumerable:!0,get:E[h]})},__webpack_require__.o=(T,E)=>Object.prototype.hasOwnProperty.call(T,E),__webpack_require__.r=T=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>I.jN,BaseDevice:()=>S,BaseEvent:()=>o.j4,BeatTimeEvent:()=>o.J0,CommonParameterMixin:()=>I.IR,DataBuffer:()=>_.OM,DeviceType:()=>l,EnumParameter:()=>I.V2,EventSubject:()=>B.BM,EventType:()=>o.m5,MIDIEvent:()=>o.Ym,MessageEvent:()=>o.f3,MessagePortType:()=>c.s,NumberParameter:()=>I.BX,ParameterNotificationSetting:()=>I.EX,ParameterType:()=>I.rH,PresetEvent:()=>o.bt,RNBOPresetEventAction:()=>o.l0,ScriptDevice:()=>K,TempoEvent:()=>o.gs,TimeNow:()=>L.D,TimeSignatureEvent:()=>o.QU,TransportEvent:()=>o.cr,TransportState:()=>c.S,WorkletDevice:()=>p,createDevice:()=>J,version:()=>m});var T=__webpack_require__(163),E=__webpack_require__(845),h=__webpack_require__.n(E),c=__webpack_require__(347),_=__webpack_require__(641),B=__webpack_require__(389),I=__webpack_require__(856),z=__webpack_require__(400),o=__webpack_require__(555);const v={notificationSetting:z.E.All};class w{constructor(d){this.tt=new Map,this.et=new Map,this.id=(0,B.EL)(),this.parameterChangeEvent=new B.BM,this.rt=a=>{const y=this.tt.get(a.target);if(!y)return;const R=a.value;y.type!==z.r.Bang&&R===y.value||(y.W(R),this.parameterChangeEvent.emit(y))},this.nt=a=>{const y=a.index,R=a.type===z.r.Bang?1:a.value,U=new o.DB(0,y,R,this.id,void 0);this.it&&this.it.scheduleEvent(U),this.notificationSetting===z.E.All&&this.parameterChangeEvent.emit(a)};const b=Object.assign({},v,d);this.X=b.notificationSetting}st(d){return this.tt.get(d)||void 0}ot(){for(const d of this.tt.values())d.L.removeAllSubscriptions(),d.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let d=0,b=this.it.getNumParameters();d<b;d++){const a=this.it.getParameterInfo(d);if(!a||!a.visible)continue;const y=(0,I.zT)(a,d,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(d),convertToNormalized:this.it.getParameterToNormalizedFunction(d),constrainParameterValue:this.it.constrainParameterValue(d)});y.L.subscribe(this.nt),this.tt.set(d,y),this.et.set(a.id,y)}}setEngine(d){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=d,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(d){for(const b of this.tt.values())b.$(d);this.X=d}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(d){const b=this.st(d);return b?b.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var e;function n(q){return q.file!==void 0}function i(q){return q.url!==void 0}(function(q){q[q.AudioBuffer=1]="AudioBuffer",q[q.DataBuffer=2]="DataBuffer",q[q.ReferenceBuffer=3]="ReferenceBuffer"})(e||(e={}));var l,g=__webpack_require__(834).Buffer;(function(q){q.Script="script",q.Worklet="worklet",q.Invalid="invalid"})(l||(l={}));class S{constructor({context:d,parameterNotificationSetting:b,type:a}){this.ht=!1,this.ft="wasm",this.ct=new B.e1,this.lt=!0,this.midiEvent=new B.BM,this.messageEvent=new B.BM,this.parameterChangeEvent=new B.BM,this.invalidateEvent=new B.BM,this.presetTouchedEvent=new B.BM,this.dt=y=>{switch(y.type){case o.m5.ClockEvent:case o.m5.DataRefEvent:case o.m5.StartupEvent:break;case o.m5.MIDIEvent:return void this.midiEvent.emit(y);case o.m5.MessageEvent:return void this.messageEvent.emit(y);case o.m5.PresetEvent:if(y.action==o.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(y),new Error(`Unknown or unsupported RNBOEvent type "${y.type}"`)}},this.gt=y=>{this.parameterChangeEvent.emit(y)},this._t=d,this.yt=a,this.F=new w({notificationSetting:b})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(d,b,a){this.it&&this.it.prepareToProcess(d,b,a)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(d){const b=g.from(d.code,d.encoding);return d.compression==="zlib"?h().inflate(b.toString("binary"),{to:"string"}):b.toString("utf-8")}get context(){return this.wt(),this._t}get inports(){return this.wt(),this.it.getMessageInfos().filter(d=>d.type===c.s.Inport)}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get outports(){return this.wt(),this.it.getMessageInfos().filter(d=>d.type===c.s.Outport)}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(d){this.wt(),this.F.notificationSetting=d}get sourceType(){return this.ft}get type(){return this.isInvalid?l.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(d,b,a,y){return(0,T.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(C=>C.id===d))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${d}" does not exist within the device.`);let R,U;if(b instanceof AudioBuffer){U=_.Le.fromAudioBuffer(b);const C=b.numberOfChannels,W=new Float32Array(b.length*b.numberOfChannels),ee=[];for(let Z=0;Z<C;Z++){const Q=new Float32Array(b.length);b.copyFromChannel(Q,Z,0),ee.push(Q)}for(let Z=0;Z<C;Z++)for(let Q=0,te=b.length;Q<te;Q++)W[Q*C+Z]=ee[Z][Q];R=W.buffer}else{if(!a||a<0||isNaN(a))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!y||y<0||isNaN(y))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");R=ArrayBuffer.isView(b)?b.buffer.slice(0):b.slice(0),U=new _.Le(a,y)}yield this.it.setExternalData(d,R,U)})}releaseDataBuffer(d){return(0,T.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(y=>y.id===d))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${d}" does not exist within the device.`);const{data:b,typeDesc:a}=yield this.it.releaseExternalData(d);return new _.OM(b,a)})}static fetchAudioData(d,b){return(0,T.mG)(this,void 0,void 0,function*(){let a=yield fetch(d),y=yield a.arrayBuffer();return new Promise((R,U)=>{b.decodeAudioData(y,R,U)})})}static bufferDescriptionHasRemoteURL(d){return!!i(d)||!(!n(d)||!d.file.startsWith("http:")&&!d.file.startsWith("https:"))}loadDataBufferDependencies(d){return(0,T.mG)(this,void 0,void 0,function*(){return Promise.all(d.map(b=>(0,T.mG)(this,void 0,void 0,function*(){try{let a;if(i(b)?a=b.url:n(b)&&(a=b.file),a){const y=yield S.fetchAudioData(a,this.context);return this.setDataBuffer(b.id,y),{type:"success",id:b.id}}throw new Error(`Skipping invalid buffer info id: ${b.id}, type: ${b.type}`)}catch(a){return{type:"fail",error:a,id:b.id}}})))})}scheduleEvent(d){this.wt(),this.it&&this.it.scheduleEvent(d)}destroy(){this.wt(),this.F.destroy(),this.it&&this.it.removeAllSubscriptions(),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,T.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(d){return this.it.setPreset(d)}}var A=__webpack_require__(191),V=__webpack_require__(133);const Y=__webpack_require__(264);function X(q,d){return q.time-d.time}function M(q){q.sort(X)}class x extends A.v{constructor(){super(),this.At=!1,this.Bt=!1,this.Tt=void 0,this.St=-1,this.Pt=[],this.At=!1,this.setPatcherDesc(Y.desc),this.setPatcherCode(Y.src[0].code)}Rt(d){const b=d.eventTarget||this.Dt;if(d.time=Math.max(d.time,this.I),this.Tt=d,d.type===o.m5.ParameterEvent){const a=d;b.setParameterValue(a.target,a.value,d.time)}else if(d.type===o.m5.MIDIEvent){const a=d;b.processMidiEvent(a.time,a.port,a.data,a.length)}else if(d.type===o.m5.ClockEvent){const a=d;b.processClockEvent(a.time,a.clockIndex,a.hasValue,a.value)}else if(d.type===o.m5.DataRefEvent){const a=d;a.action===o.VH.Update&&b.processDataViewUpdate(a.dataRefIndex,a.time)}else if(d.type===o.m5.MessageEvent){const a=d;Array.isArray(a.payload)?b.processListMessage(V.TAG(a.tag),V.TAG(a.objectId),a.time,a.payload):a.payload===void 0?b.processBangMessage(V.TAG(a.tag),V.TAG(a.objectId),a.time):b.processNumMessage(V.TAG(a.tag),V.TAG(a.objectId),a.time,a.payload)}else if(d.type===o.m5.PresetEvent){const a=d;a.action===o.l0.Set&&(this.Bt=!0,this.Dt.setPreset(a.time,a.preset),this.Bt=!1)}else if(d.type===o.m5.TransportEvent){const a=d;this.Dt.processTransportEvent(a.time,a.state)}else if(d.type===o.m5.TempoEvent){const a=d;this.Dt.processTempoEvent(a.time,a.tempo)}else if(d.type===o.m5.BeatTimeEvent){const a=d;this.Dt.processBeatTimeEvent(a.time,a.beattime)}else if(d.type===o.m5.TimeSignatureEvent){const a=d;this.Dt.processTimeSignatureEvent(a.time,a.numerator,a.denominator)}else if(d.type===o.m5.StartupEvent){const a=d;this.Bt=a.phase===o.gA.BEGIN}this.Tt=void 0}getCurrentTime(){return this.I}setCurrentTime(d){this.I=d}prepareToProcess(d,b,a){(a||d!==this.M||b!==this.A)&&(this.M=d,this.A=b,this.B=this.sampsToMs(this.A),this.isSync&&this.Dt.prepareToProcess(this.M,this.A))}process(d,b,a,y,R,U,C){const W=Math.min(b,this.getNumInputChannels()+this.getNumSignalInParameters()),ee=Math.min(y,this.getNumOutputChannels()),Z=Math.min(R,this.A);for(this.St=this.I+this.B,this.midiInput!==void 0&&(this.Pt.push.apply(this.Pt,U),this.At=!0),this.At&&(M(this.Pt),this.At=!1);this.Pt.length>0&&this.Pt[0].time<this.St;)this.Rt(this.Pt.shift());this.Dt.process(d,W,a,ee,Z),this.I=this.St,this.St=-1}scheduleMidiEvent(d,b){this.scheduleEvent(new o.Ym(this.I,d,b,this.Dt))}notifyParameterValueChanged(d,b){let a=this.Tt?this.Tt.source:void 0;this.parameterChangeEvent.emit(new o.DB(this.getCurrentTime(),d,b,a))}scheduleParameterChange(d,b,a){this.scheduleEvent(new o.DB(this.getCurrentTime(),d,b,void 0))}sendNumMessage(d,b,a){const y=new o.f3(this.I,this.Dt.resolveTag(d),a,this.Dt.resolveTag(b));this.outgoingEvent.emit(y)}sendBangMessage(d,b){const a=new o.f3(this.I,this.Dt.resolveTag(d),void 0,this.Dt.resolveTag(b));this.outgoingEvent.emit(a)}sendListMessage(d,b,a){const y=new o.f3(this.I,this.Dt.resolveTag(d),a,this.Dt.resolveTag(b));this.outgoingEvent.emit(y)}getParameterValue(d){return this.Dt.getParameterValue(d)}flushClockEvents(d,b,a){this.flushClockEventsWithValue(d,b,void 0,a)}flushClockEventsWithValue(d,b,a,y){for(let R=0;R<this.Pt.length;R++)if(this.Pt[R]instanceof o.J9){const U=this.Pt[R];U.eventTarget!==d||U.clockIndex!==b&&U.clockIndex!==void 0||a!==void 0&&U.value!==a||(this.Pt.splice(R,1),y&&this.Rt(U),R--)}}deleteClockEvents(d){this.flushClockEvents(d,void 0,!1)}scheduleClockEvent(d,b,a){this.scheduleClockEventWithValue(d,b,a,void 0)}scheduleClockEventWithValue(d,b,a,y){this.scheduleEvent(new o.J9(a,b,y,d))}sendMidiEvent(d,b,a,y){const R=new o.Ym(this.getCurrentTime(),d,[b,a,y],void 0);this.outgoingEvent.emit(R)}sendMidiEventList(d,b){let a;for(a=2;a<b.length;a+=3)this.sendMidiEvent(d,b[a-2],b[a-1],b[a]);if(a-=3,a<b.length){var y=a-b.length;this.sendMidiEvent(d,b[a],y>1?b[a+1]:void 0,y>2?b[a+2]:void 0)}}sendOutlet(d,b,a){console.log("sendOutlet",d,b,a)}updatePatcherEventTarget(d,b){for(let a=0;a<this.Pt.length;a++)this.Pt[a].eventTarget===d&&(this.Pt[a].eventTarget=b,this.Pt[a].invalid=!1)}rescheduleEventTarget(d){for(let b=0;b<this.Pt.length;b++)this.Pt[b].eventTarget===d&&(this.Pt[b].invalid=!1)}isInProcess(){return this.St>-1}sendDataRefUpdated(d){this.scheduleEvent(new o.Lk(this.getCurrentTime(),d,o.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(d){this.Pt.push(d),this.isInProcess()?M(this.Pt):this.At=!0}setPatcherCode(d){return(0,T.mG)(this,void 0,void 0,function*(){const b={};this.Dt&&this.Dt.getState(b),this.Dt=V.deserializeSrc(d);for(let a=0;a<this.Pt.length;a++)this.Pt[a].eventTarget&&(this.Pt[a].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new o.j6(this.I,o.gA.BEGIN)),this.Dt.initialize(b),this.scheduleEvent(new o.j6(this.I,o.gA.END)),this.Dt.prepareToProcess(this.M,this.A,!0);for(let a=this.Pt.length-1;a>=0;a--)this.Pt[a].invalid&&this.Pt.splice(a,1)})}setExternalData(d,b,a){return(0,T.mG)(this,void 0,void 0,function*(){const y=this.Dt.getNumDataRefs();for(let R=0;R<y;R++){const U=this.Dt.getDataRef(R);if(U.name==d){U.arrayBuffer=b,a instanceof _.Le&&(U.channels=a.channels,U.sampleRate=a.sampleRate),this.sendDataRefUpdated(R);break}}})}releaseExternalData(d){return(0,T.mG)(this,void 0,void 0,function*(){const b=this.Dt.getNumDataRefs();let a,y;for(let R=0;R<b;R++){const U=this.Dt.getDataRef(R);if(U.name==d){a=U.arrayBuffer,U.arrayBuffer=new ArrayBuffer(0),U.channels?(y=new _.Le(U.channels,U.sampleRate),U.channels=0,U.sampleRate=0):y=new _.nc,this.sendDataRefUpdated(R);break}}if(!a)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${d} found.`);return{data:a,typeDesc:y}})}getPreset(){return(0,T.mG)(this,void 0,void 0,function*(){let d={};return this.Dt.getPreset(d),d})}setPreset(d){this.scheduleEvent(new o.bt(this.I,o.l0.Set,d))}presetTouched(){this.Bt||this.outgoingEvent.emit(new o.bt(this.I,o.l0.Touched,void 0))}}var N,u,F=__webpack_require__(916);class K extends S{constructor({bufferSize:d=1024,context:b,parameterNotificationSetting:a},y){super({context:b,parameterNotificationSetting:a,type:l.Script}),this.bufferSize=d,this.it=y&&y.sourceType!=="wasm"?y.it:void 0}Ot(d){const b=[],a=[],y=d.inputBuffer,R=d.outputBuffer,U=y?y.numberOfChannels:0,C=R?R.numberOfChannels:0;for(let W=0;W<Math.max(U,C);W++)W<U&&(b[W]=y.getChannelData(W)),W<C&&(a[W]=R.getChannelData(W));this.Ct(1e3*d.playbackTime),this.It(d.outputBuffer.sampleRate,this.bufferSize,!1),this.Nt(b,U,a,C,this.bufferSize,null,null)}Nt(d,b,a,y,R,U,C){this.it&&this.it.process(d,b,a,y,R,U||void 0,C||void 0)}Ct(d){this.it&&this.it.setCurrentTime(d)}get node(){return this.wt(),this.Mt}setPatcher(d,b){return(0,T.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=b.type==="wasm"?new F.s:new x),this.ft=b.type,yield this.it.setPatcherDesc(d),yield this.it.setPatcherCode(this.Et(b)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(q){q[q.LoadPatcher=0]="LoadPatcher",q[q.ScheduleEvent=1]="ScheduleEvent",q[q.TransferBuffer=2]="TransferBuffer",q[q.ReleaseBuffer=3]="ReleaseBuffer",q[q.SetPreset=4]="SetPreset",q[q.GetPreset=5]="GetPreset"})(N||(N={})),function(q){q[q.LoadPatcherFinished=1e3]="LoadPatcherFinished",q[q.OutgoingEvent=1002]="OutgoingEvent",q[q.ReleasedBuffer=1003]="ReleasedBuffer",q[q.TransferBufferFinished=1004]="TransferBufferFinished",q[q.GetPresetResponse=1005]="GetPresetResponse"}(u||(u={}));class D extends A.v{constructor(){super(),this.kt=new B.BM,this.xt=new B.BM,this.Ut=d=>{if(d.id!==u.OutgoingEvent||d.payload.type!==o.m5.ParameterEvent)if(d.id!==u.OutgoingEvent){if(d.id!==u.LoadPatcherFinished&&d.id!==u.TransferBufferFinished&&d.id!==u.ReleasedBuffer&&d.id!==u.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${d.id}`)}else this.outgoingEvent.emit(d.payload);else this.parameterChangeEvent.emit(d.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(d,b,a,y){this.parameterChangeEvent.emit(new o.DB(d,b,a,y,void 0))}prepareToProcess(d,b,a){}process(d,b,a,y,R,U,C){throw new Error}get isSync(){return!1}scheduleEvent(d){this.xt.emit({id:N.ScheduleEvent,payload:d})}setExternalData(d,b,a){return new Promise((y,R)=>{const U=this.kt.subscribe(C=>{C.id===u.TransferBufferFinished&&C.payload.memoryId===d&&(U.unsubscribe(),y())});this.xt.emit({id:N.TransferBuffer,payload:{memoryId:d,data:b,typeDesc:a}})})}releaseExternalData(d){return new Promise((b,a)=>{const y=this.kt.subscribe(R=>{R.id===u.ReleasedBuffer&&R.payload.memoryId===d&&(y.unsubscribe(),b({data:R.payload.data,typeDesc:(0,_.n_)(R.payload.typeDesc)}))});this.xt.emit({id:N.ReleaseBuffer,payload:{memoryId:d}})})}getPreset(){return(0,T.mG)(this,void 0,void 0,function*(){return new Promise((d,b)=>{const a=this.kt.subscribe(y=>{y.id===u.GetPresetResponse&&(a.unsubscribe(),d(y.payload.preset))});this.xt.emit({id:N.GetPreset})})})}setPreset(d){this.xt.emit({id:N.SetPreset,payload:{preset:d}})}setPatcherCode(d){return(0,T.mG)(this,void 0,void 0,function*(){})}}const re=()=>{if(!B.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(q,d,b,a){super(q,d,a),this.jt=y=>{const[R,U]=y.data;if(R!==u.OutgoingEvent)if(R!==u.LoadPatcherFinished)if(R!==u.TransferBufferFinished)if(R!==u.ReleasedBuffer){if(R!==u.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${R}`);this.zt.fromProcessorEvent.emit({id:R,payload:U})}else this.zt.fromProcessorEvent.emit({id:R,payload:U});else this.zt.fromProcessorEvent.emit({id:R,payload:U});else this.zt.fromProcessorEvent.emit({id:R,payload:U});else this.zt.fromProcessorEvent.emit({id:R,payload:(0,o.f4)(U)})},this.Ft=y=>{y.id!==N.ScheduleEvent?y.id!==N.TransferBuffer?y.id!==N.ReleaseBuffer?y.id!==N.GetPreset?y.id!==N.SetPreset||this.port.postMessage([y.id,{preset:y.payload.preset}]):this.port.postMessage([y.id]):this.port.postMessage([y.id,{memoryId:y.payload.memoryId}]):this.port.postMessage([y.id,{data:y.payload.data,memoryId:y.payload.memoryId,typeDesc:y.payload.typeDesc.serialize()}],[y.payload.data]):this.port.postMessage([y.id,y.payload.serialize()])},this.zt=b,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,T.mG)(this,void 0,void 0,function*(){return new Promise(q=>{const d=this.zt.fromProcessorEvent.subscribe(b=>{b.id===u.LoadPatcherFinished&&(d.unsubscribe(),q())});this.port.postMessage([N.LoadPatcher])})})}}};var $=__webpack_require__(834).Buffer;const j=__webpack_require__(264),r={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let A=function(t){return w.call(this,t,Int32Array)};(A.prototype=Object.create(w.prototype)).constructor=A;let P=function(t){return w.call(this,t,Uint8Array)};(P.prototype=Object.create(w.prototype)).constructor=P,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:A,UInt8Buffer:P}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class I extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class w extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class T extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const B=__webpack_require__(264);function S(t,e){return t.time-e.time}function A(t){t.sort(S)}class P extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(B.desc),this.setPatcherCode(B.src[0].code)}S(t){const e=t.eventTarget||this.A;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.A.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.A.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.A.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.A.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.A.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.A.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.A.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.A))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}sendNumMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.A.resolveTag(t),void 0,this.A.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.A.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.A))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.A&&this.A.getState(e),this.A=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.A.setEngineAndPatcher(this,null),this.scheduleEvent(new T(this.h,d.BEGIN)),this.A.initialize(e),this.scheduleEvent(new T(this.h,d.END)),this.A.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();for(let s=0;s<e;s++){const e=this.A.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.A.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.A.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new I(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new I(this.h,l.Touched,void 0))}}var O,D;function N(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.P=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.P.emit(this),this.notificationSetting===D.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(O||(O={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(D||(D={}));N(Object);N(Object);N(Object);class R{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var x,C;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(x||(x={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(C||(C={}));var k=__webpack_require__(834).Buffer;const U=JSON.parse(k.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),j=k.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class X extends AudioWorkletProcessor{constructor(i){super(i),this.j=new P,this.X=[],this.F=[],this.$=new R,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case x.LoadPatcher:yield this.j.setPatcherDesc(U),yield this.j.setPatcherCode(j);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([C.LoadPatcherFinished]);break;case x.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.PresetEvent:return new I(t.time,t.action,t.preset);case f.TransportEvent:return new w(t.time,t.state);case f.TempoEvent:return new v(t.time,t.tempo);case f.BeatTimeEvent:return new M(t.time,t.beattime);case f.TimeSignatureEvent:return new E(t.time,t.numerator,t.denominator);case f.StartupEvent:return new T(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case x.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([C.TransferBufferFinished,{memoryId:e.memoryId}]);break}case x.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([C.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case x.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([C.GetPresetResponse,{preset:t}]);break}case x.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}let u=0;o>0&&this.F.length&&this.F[0]?u=this.F[0].length:e.length&&e[0]&&e[0].length&&e[0][0]?u=e[0][0].length:s>0&&this.X.length&&this.X[0]?u=this.X[0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(u=t[0][0].length),u||(u=128);for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let z="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";z.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(z="RNBOProcessor"),registerProcessor(z,X)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=128,this.T=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.C=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.C.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.C.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.C.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.C.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.C.setPreset(JSON.stringify(t.preset))}}},this.port.onmessage=this.T,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.b1,t.b2,t.b3],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.C.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.C.retrieveArray(t.listValue):void 0,this.C.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.C||!this.C.isReady())return!0;let s=0;e.length&&e[0]&&e[0].length&&e[0][0]?s=e[0][0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(s=t[0][0].length),s||(s=this.P),this.P<s&&(this.P=s),this.C.setCurrentTime(1e3*currentTime),this.C.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.C.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.C.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.C.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.C.numOuts();t++)o.push(n[t]),i++}return this.C.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class p extends S{constructor({context:d,parameterNotificationSetting:b},a){super({context:d,parameterNotificationSetting:b,type:l.Worklet}),a?this.it=a.it:(this.it=new D,this.it.setPatcherDesc(j.desc),this.it.setPatcherCode(j.src[0].code)),this.Mt=a?a.node:void 0}Lt(){let d="[";const b=this.it.getNumParameters();let a=!0;for(let y=0;y<b;y++){const R=this.it.getParameterInfo(y);if(R&&R.type!==void 0&&R.type===V.ParameterTypeSignal&&R.ioType!==void 0&&R.ioType===V.IOTypeInput){const U=R.min===void 0?0:R.min,C=R.max===void 0?1:R.max;a||(d+=", "),d+="{ name: '"+R.name+"', automationRate: 'a-rate', minValue: "+U+", maxValue: "+C+"}",a=!1}}return d+="]",d}get node(){return this.wt(),this.Mt}setPatcher(d,b){return(0,T.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(d),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=b.type;const a=r[b.type];let y=this.numInputChannels,R=this.numOutputChannels;y<1&&(y=1),R<1&&(R=1);const U=`RNBOProcessor-${(0,B.EL)()}`;let C=a.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",U).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch(b.type){case"js":C=C.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",$.from(JSON.stringify(d),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",$.from(this.Et(b),"utf-8").toString("base64"));break;case"wasm":C=this.Et(b)+`

`+C}const W=URL.createObjectURL(new Blob([C],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(W),this.Mt=new(re())(this.context,U,this.it.eventSubjects,{numberOfInputs:y,numberOfOutputs:1,outputChannelCount:[R]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var L=__webpack_require__(676);const m="1.3.1",G={bufferSize:1024,parameterNotificationSetting:I.EX.All};function J(q,d){var b,a,y,R;return(0,T.mG)(this,void 0,void 0,function*(){const{context:U,patcher:C,type:W="auto"}=q,ee=((a=(b=C.desc)===null||b===void 0?void 0:b.meta)===null||a===void 0?void 0:a.rnboversion)||C.desc.rnboVersion;if(ee!==m&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${m}
patcher		v${ee}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((y=C.src)===null||y===void 0)&&y.length)||!Array.isArray(C.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((R=C.src)===null||R===void 0?void 0:R.map(he=>he.type)).has("js")&&!B.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const Z=C.src.find(he=>B.f8&&he.type==="wasm")||C.src.find(he=>he.type==="js"),Q=Object.assign({},G,q.options);if(!U)throw new Error("Missing argument context");if(W===l.Worklet&&!B.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const te=W==="auto"?B.I7?l.Worklet:l.Script:W;if(te!==l.Script&&te!==l.Worklet)throw new Error(`Unknown Device type ${te}. Please make sure to use either 'auto' or a valid DeviceType`);let ae;if(te===l.Script){if(d&&!(d instanceof K))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");ae=new K({bufferSize:Q.bufferSize,parameterNotificationSetting:Q.parameterNotificationSetting,context:U},d?.sourceType===Z.type?d:void 0)}else if(te===l.Worklet){if(d&&!(d instanceof p))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");ae=new p({context:U,parameterNotificationSetting:Q.parameterNotificationSetting},d)}return d&&d.destroy(),ae=ae,yield ae.setPatcher(C.desc,Z),ae})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);var rnbo_webaudioExports=rnbo_webaudio.exports,howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(T){(function(){var E=function(){this.init()};E.prototype={init:function(){var e=this||h;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||h;if(e=parseFloat(e),n.ctx||w(),typeof e<"u"&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,h.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var l=n._howls[i]._getSoundIds(),g=0;g<l.length;g++){var S=n._howls[i]._soundById(l[g]);S&&S._node&&(S._node.volume=S._volume*e)}return n}return n._volume},mute:function(e){var n=this||h;n.ctx||w(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,h.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var l=n._howls[i]._getSoundIds(),g=0;g<l.length;g++){var S=n._howls[i]._soundById(l[g]);S&&S._node&&(S._node.muted=e?!0:S._muted)}return n},stop:function(){for(var e=this||h,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||h,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,w()),e},codecs:function(e){return(this||h)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||h;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var n=new Audio;typeof n.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||h,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var i=n.canPlayType("audio/mpeg;").replace(/^no$/,""),l=e._navigator?e._navigator.userAgent:"",g=l.match(/OPR\/(\d+)/g),S=g&&parseInt(g[0].split("/")[1],10)<33,A=l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1,V=l.match(/Version\/(.*?) /),Y=A&&V&&parseInt(V[1],10)<15;return e._codecs={mp3:!!(!S&&(i||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Y&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Y&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||h;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(i){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var l=new Audio;l._unlocked=!0,e._releaseHtml5Audio(l)}catch{e.noAudio=!0;break}for(var g=0;g<e._howls.length;g++)if(!e._howls[g]._webAudio)for(var S=e._howls[g]._getSoundIds(),A=0;A<S.length;A++){var V=e._howls[g]._soundById(S[A]);V&&V._node&&!V._node._unlocked&&(V._node._unlocked=!0,V._node.load())}e._autoResume();var Y=e.ctx.createBufferSource();Y.buffer=e._scratchBuffer,Y.connect(e.ctx.destination),typeof Y.start>"u"?Y.noteOn(0):Y.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),Y.onended=function(){Y.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var X=0;X<e._howls.length;X++)e._howls[X]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||h;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||h;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!h.usingWebAudio)){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var i=0;i<e._howls[n]._sounds.length;i++)if(!e._howls[n]._sounds[i]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var l=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(l,l)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!h.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var h=new E,c=function(e){var n=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(e)};c.prototype={init:function(e){var n=this;return h.ctx||w(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=h.usingWebAudio&&!n._html5,typeof h.ctx<"u"&&h.ctx&&h.autoUnlock&&h._unlockAudio(),h._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(h.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var i=0;i<e._src.length;i++){var l,g;if(e._format&&e._format[i])l=e._format[i];else{if(g=e._src[i],typeof g!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}l=/^data:audio\/([^;,]+);/i.exec(g),l||(l=/\.([^.]+)$/.exec(g.split("?",1)[0])),l&&(l=l[1].toLowerCase())}if(l||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),l&&h.codecs(l)){n=e._src[i];break}}if(!n){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new _(e),e._webAudio&&I(e),e},play:function(e,n){var i=this,l=null;if(typeof e=="number")l=e,e=null;else{if(typeof e=="string"&&i._state==="loaded"&&!i._sprite[e])return null;if(typeof e>"u"&&(e="__default",!i._playLock)){for(var g=0,S=0;S<i._sounds.length;S++)i._sounds[S]._paused&&!i._sounds[S]._ended&&(g++,l=i._sounds[S]._id);g===1?e=null:l=null}}var A=l?i._soundById(l):i._inactiveSound();if(!A)return null;if(l&&!e&&(e=A._sprite||"__default"),i._state!=="loaded"){A._sprite=e,A._ended=!1;var V=A._id;return i._queue.push({event:"play",action:function(){i.play(V)}}),V}if(l&&!A._paused)return n||i._loadQueue("play"),A._id;i._webAudio&&h._autoResume();var Y=Math.max(0,A._seek>0?A._seek:i._sprite[e][0]/1e3),X=Math.max(0,(i._sprite[e][0]+i._sprite[e][1])/1e3-Y),M=X*1e3/Math.abs(A._rate),x=i._sprite[e][0]/1e3,N=(i._sprite[e][0]+i._sprite[e][1])/1e3;A._sprite=e,A._ended=!1;var u=function(){A._paused=!1,A._seek=Y,A._start=x,A._stop=N,A._loop=!!(A._loop||i._sprite[e][2])};if(Y>=N){i._ended(A);return}var F=A._node;if(i._webAudio){var K=function(){i._playLock=!1,u(),i._refreshBuffer(A);var j=A._muted||i._muted?0:A._volume;F.gain.setValueAtTime(j,h.ctx.currentTime),A._playStart=h.ctx.currentTime,typeof F.bufferSource.start>"u"?A._loop?F.bufferSource.noteGrainOn(0,Y,86400):F.bufferSource.noteGrainOn(0,Y,X):A._loop?F.bufferSource.start(0,Y,86400):F.bufferSource.start(0,Y,X),M!==1/0&&(i._endTimers[A._id]=setTimeout(i._ended.bind(i,A),M)),n||setTimeout(function(){i._emit("play",A._id),i._loadQueue()},0)};h.state==="running"&&h.ctx.state!=="interrupted"?K():(i._playLock=!0,i.once("resume",K),i._clearTimer(A._id))}else{var D=function(){F.currentTime=Y,F.muted=A._muted||i._muted||h._muted||F.muted,F.volume=A._volume*h.volume(),F.playbackRate=A._rate;try{var j=F.play();if(j&&typeof Promise<"u"&&(j instanceof Promise||typeof j.then=="function")?(i._playLock=!0,u(),j.then(function(){i._playLock=!1,F._unlocked=!0,n?i._loadQueue():i._emit("play",A._id)}).catch(function(){i._playLock=!1,i._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),A._ended=!0,A._paused=!0})):n||(i._playLock=!1,u(),i._emit("play",A._id)),F.playbackRate=A._rate,F.paused){i._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||A._loop?i._endTimers[A._id]=setTimeout(i._ended.bind(i,A),M):(i._endTimers[A._id]=function(){i._ended(A),F.removeEventListener("ended",i._endTimers[A._id],!1)},F.addEventListener("ended",i._endTimers[A._id],!1))}catch(r){i._emit("playerror",A._id,r)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=i._src,F.load());var re=window&&window.ejecta||!F.readyState&&h._navigator.isCocoonJS;if(F.readyState>=3||re)D();else{i._playLock=!0,i._state="loading";var $=function(){i._state="loaded",D(),F.removeEventListener(h._canPlayEvent,$,!1)};F.addEventListener(h._canPlayEvent,$,!1),i._clearTimer(A._id)}}return A._id},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var i=n._getSoundIds(e),l=0;l<i.length;l++){n._clearTimer(i[l]);var g=n._soundById(i[l]);if(g&&!g._paused&&(g._seek=n.seek(i[l]),g._rateSeek=0,g._paused=!0,n._stopFade(i[l]),g._node))if(n._webAudio){if(!g._node.bufferSource)continue;typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),n._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||g._node.duration===1/0)&&g._node.pause();arguments[1]||n._emit("pause",g?g._id:null)}return n},stop:function(e,n){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(e)}}),i;for(var l=i._getSoundIds(e),g=0;g<l.length;g++){i._clearTimer(l[g]);var S=i._soundById(l[g]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,i._stopFade(l[g]),S._node&&(i._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),i._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&i._clearSound(S._node))),n||i._emit("stop",S._id))}return i},mute:function(e,n){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(e,n)}}),i;if(typeof n>"u")if(typeof e=="boolean")i._muted=e;else return i._muted;for(var l=i._getSoundIds(n),g=0;g<l.length;g++){var S=i._soundById(l[g]);S&&(S._muted=e,S._interval&&i._stopFade(S._id),i._webAudio&&S._node?S._node.gain.setValueAtTime(e?0:S._volume,h.ctx.currentTime):S._node&&(S._node.muted=h._muted?!0:e),i._emit("mute",S._id))}return i},volume:function(){var e=this,n=arguments,i,l;if(n.length===0)return e._volume;if(n.length===1||n.length===2&&typeof n[1]>"u"){var g=e._getSoundIds(),S=g.indexOf(n[0]);S>=0?l=parseInt(n[0],10):i=parseFloat(n[0])}else n.length>=2&&(i=parseFloat(n[0]),l=parseInt(n[1],10));var A;if(typeof i<"u"&&i>=0&&i<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,n)}}),e;typeof l>"u"&&(e._volume=i),l=e._getSoundIds(l);for(var V=0;V<l.length;V++)A=e._soundById(l[V]),A&&(A._volume=i,n[2]||e._stopFade(l[V]),e._webAudio&&A._node&&!A._muted?A._node.gain.setValueAtTime(i,h.ctx.currentTime):A._node&&!A._muted&&(A._node.volume=i*h.volume()),e._emit("volume",A._id))}else return A=l?e._soundById(l):e._sounds[0],A?A._volume:0;return e},fade:function(e,n,i,l){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(e,n,i,l)}}),g;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),i=parseFloat(i),g.volume(e,l);for(var S=g._getSoundIds(l),A=0;A<S.length;A++){var V=g._soundById(S[A]);if(V){if(l||g._stopFade(S[A]),g._webAudio&&!V._muted){var Y=h.ctx.currentTime,X=Y+i/1e3;V._volume=e,V._node.gain.setValueAtTime(e,Y),V._node.gain.linearRampToValueAtTime(n,X)}g._startFadeInterval(V,e,n,i,S[A],typeof l>"u")}}return g},_startFadeInterval:function(e,n,i,l,g,S){var A=this,V=n,Y=i-n,X=Math.abs(Y/.01),M=Math.max(4,X>0?l/X:l),x=Date.now();e._fadeTo=i,e._interval=setInterval(function(){var N=(Date.now()-x)/l;x=Date.now(),V+=Y*N,V=Math.round(V*100)/100,Y<0?V=Math.max(i,V):V=Math.min(i,V),A._webAudio?e._volume=V:A.volume(V,e._id,!0),S&&(A._volume=V),(i<n&&V<=i||i>n&&V>=i)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,A.volume(i,e._id),A._emit("fade",e._id))},M)},_stopFade:function(e){var n=this,i=n._soundById(e);return i&&i._interval&&(n._webAudio&&i._node.gain.cancelScheduledValues(h.ctx.currentTime),clearInterval(i._interval),i._interval=null,n.volume(i._fadeTo,e),i._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e=this,n=arguments,i,l,g;if(n.length===0)return e._loop;if(n.length===1)if(typeof n[0]=="boolean")i=n[0],e._loop=i;else return g=e._soundById(parseInt(n[0],10)),g?g._loop:!1;else n.length===2&&(i=n[0],l=parseInt(n[1],10));for(var S=e._getSoundIds(l),A=0;A<S.length;A++)g=e._soundById(S[A]),g&&(g._loop=i,e._webAudio&&g._node&&g._node.bufferSource&&(g._node.bufferSource.loop=i,i&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop,e.playing(S[A])&&(e.pause(S[A],!0),e.play(S[A],!0)))));return e},rate:function(){var e=this,n=arguments,i,l;if(n.length===0)l=e._sounds[0]._id;else if(n.length===1){var g=e._getSoundIds(),S=g.indexOf(n[0]);S>=0?l=parseInt(n[0],10):i=parseFloat(n[0])}else n.length===2&&(i=parseFloat(n[0]),l=parseInt(n[1],10));var A;if(typeof i=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;typeof l>"u"&&(e._rate=i),l=e._getSoundIds(l);for(var V=0;V<l.length;V++)if(A=e._soundById(l[V]),A){e.playing(l[V])&&(A._rateSeek=e.seek(l[V]),A._playStart=e._webAudio?h.ctx.currentTime:A._playStart),A._rate=i,e._webAudio&&A._node&&A._node.bufferSource?A._node.bufferSource.playbackRate.setValueAtTime(i,h.ctx.currentTime):A._node&&(A._node.playbackRate=i);var Y=e.seek(l[V]),X=(e._sprite[A._sprite][0]+e._sprite[A._sprite][1])/1e3-Y,M=X*1e3/Math.abs(A._rate);(e._endTimers[l[V]]||!A._paused)&&(e._clearTimer(l[V]),e._endTimers[l[V]]=setTimeout(e._ended.bind(e,A),M)),e._emit("rate",A._id)}}else return A=e._soundById(l),A?A._rate:e._rate;return e},seek:function(){var e=this,n=arguments,i,l;if(n.length===0)e._sounds.length&&(l=e._sounds[0]._id);else if(n.length===1){var g=e._getSoundIds(),S=g.indexOf(n[0]);S>=0?l=parseInt(n[0],10):e._sounds.length&&(l=e._sounds[0]._id,i=parseFloat(n[0]))}else n.length===2&&(i=parseFloat(n[0]),l=parseInt(n[1],10));if(typeof l>"u")return 0;if(typeof i=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,n)}}),e;var A=e._soundById(l);if(A)if(typeof i=="number"&&i>=0){var V=e.playing(l);V&&e.pause(l,!0),A._seek=i,A._ended=!1,e._clearTimer(l),!e._webAudio&&A._node&&!isNaN(A._node.duration)&&(A._node.currentTime=i);var Y=function(){V&&e.play(l,!0),e._emit("seek",l)};if(V&&!e._webAudio){var X=function(){e._playLock?setTimeout(X,0):Y()};setTimeout(X,0)}else Y()}else if(e._webAudio){var M=e.playing(l)?h.ctx.currentTime-A._playStart:0,x=A._rateSeek?A._rateSeek-A._seek:0;return A._seek+(x+M*Math.abs(A._rate))}else return A._node.currentTime;return e},playing:function(e){var n=this;if(typeof e=="number"){var i=n._soundById(e);return i?!i._paused:!1}for(var l=0;l<n._sounds.length;l++)if(!n._sounds[l]._paused)return!0;return!1},duration:function(e){var n=this,i=n._duration,l=n._soundById(e);return l&&(i=n._sprite[l._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,i=0;i<n.length;i++)n[i]._paused||e.stop(n[i]._id),e._webAudio||(e._clearSound(n[i]._node),n[i]._node.removeEventListener("error",n[i]._errorFn,!1),n[i]._node.removeEventListener(h._canPlayEvent,n[i]._loadFn,!1),n[i]._node.removeEventListener("ended",n[i]._endFn,!1),h._releaseHtml5Audio(n[i]._node)),delete n[i]._node,e._clearTimer(n[i]._id);var l=h._howls.indexOf(e);l>=0&&h._howls.splice(l,1);var g=!0;for(i=0;i<h._howls.length;i++)if(h._howls[i]._src===e._src||e._src.indexOf(h._howls[i]._src)>=0){g=!1;break}return B&&g&&delete B[e._src],h.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,i,l){var g=this,S=g["_on"+e];return typeof n=="function"&&S.push(l?{id:i,fn:n,once:l}:{id:i,fn:n}),g},off:function(e,n,i){var l=this,g=l["_on"+e],S=0;if(typeof n=="number"&&(i=n,n=null),n||i)for(S=0;S<g.length;S++){var A=i===g[S].id;if(n===g[S].fn&&A||!n&&A){g.splice(S,1);break}}else if(e)l["_on"+e]=[];else{var V=Object.keys(l);for(S=0;S<V.length;S++)V[S].indexOf("_on")===0&&Array.isArray(l[V[S]])&&(l[V[S]]=[])}return l},once:function(e,n,i){var l=this;return l.on(e,n,i,1),l},_emit:function(e,n,i){for(var l=this,g=l["_on"+e],S=g.length-1;S>=0;S--)(!g[S].id||g[S].id===n||e==="load")&&(setTimeout(function(A){A.call(this,n,i)}.bind(l,g[S].fn),0),g[S].once&&l.off(e,g[S].fn,g[S].id));return l._loadQueue(e),l},_loadQueue:function(e){var n=this;if(n._queue.length>0){var i=n._queue[0];i.event===e&&(n._queue.shift(),n._loadQueue()),e||i.action()}return n},_ended:function(e){var n=this,i=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var l=!!(e._loop||n._sprite[i][2]);if(n._emit("end",e._id),!n._webAudio&&l&&n.stop(e._id,!0).play(e._id),n._webAudio&&l){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=h.ctx.currentTime;var g=(e._stop-e._start)*1e3/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),g)}return n._webAudio&&!l&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),h._autoSuspend()),!n._webAudio&&!l&&n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var i=n._soundById(e);i&&i._node&&i._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,i=0;i<n._sounds.length;i++)if(e===n._sounds[i]._id)return n._sounds[i];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new _(e)},_drain:function(){var e=this,n=e._pool,i=0,l=0;if(!(e._sounds.length<n)){for(l=0;l<e._sounds.length;l++)e._sounds[l]._ended&&i++;for(l=e._sounds.length-1;l>=0;l--){if(i<=n)return;e._sounds[l]._ended&&(e._webAudio&&e._sounds[l]._node&&e._sounds[l]._node.disconnect(0),e._sounds.splice(l,1),i--)}}},_getSoundIds:function(e){var n=this;if(typeof e>"u"){for(var i=[],l=0;l<n._sounds.length;l++)i.push(n._sounds[l]._id);return i}else return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=h.ctx.createBufferSource(),e._node.bufferSource.buffer=B[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,h.ctx.currentTime),n},_cleanBuffer:function(e){var n=this,i=h._navigator&&h._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return n;if(h._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),i))try{e.bufferSource.buffer=h._scratchBuffer}catch{}return e.bufferSource=null,n},_clearSound:function(e){var n=/MSIE |Trident\//.test(h._navigator&&h._navigator.userAgent);n||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var _=function(e){this._parent=e,this.init()};_.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++h._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,i=h._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=typeof h.ctx.createGain>"u"?h.ctx.createGainNode():h.ctx.createGain(),e._node.gain.setValueAtTime(i,h.ctx.currentTime),e._node.paused=!0,e._node.connect(h.masterGain)):h.noAudio||(e._node=h._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(h._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=i*h.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++h._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(e._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(h._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(e._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var B={},I=function(e){var n=e._src;if(B[n]){e._duration=B[n].duration,v(e);return}if(/^data:[^;]+;base64,/.test(n)){for(var i=atob(n.split(",")[1]),l=new Uint8Array(i.length),g=0;g<i.length;++g)l[g]=i.charCodeAt(g);o(l.buffer,e)}else{var S=new XMLHttpRequest;S.open(e._xhr.method,n,!0),S.withCredentials=e._xhr.withCredentials,S.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(A){S.setRequestHeader(A,e._xhr.headers[A])}),S.onload=function(){var A=(S.status+"")[0];if(A!=="0"&&A!=="2"&&A!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}o(S.response,e)},S.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete B[n],e.load())},z(S)}},z=function(e){try{e.send()}catch{e.onerror()}},o=function(e,n){var i=function(){n._emit("loaderror",null,"Decoding audio data failed.")},l=function(g){g&&n._sounds.length>0?(B[n._src]=g,v(n,g)):i()};typeof Promise<"u"&&h.ctx.decodeAudioData.length===1?h.ctx.decodeAudioData(e).then(l).catch(i):h.ctx.decodeAudioData(e,l,i)},v=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},w=function(){if(h.usingWebAudio){try{typeof AudioContext<"u"?h.ctx=new AudioContext:typeof webkitAudioContext<"u"?h.ctx=new webkitAudioContext:h.usingWebAudio=!1}catch{h.usingWebAudio=!1}h.ctx||(h.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(h._navigator&&h._navigator.platform),n=h._navigator&&h._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=n?parseInt(n[1],10):null;if(e&&i&&i<9){var l=/safari/.test(h._navigator&&h._navigator.userAgent.toLowerCase());h._navigator&&!l&&(h.usingWebAudio=!1)}h.usingWebAudio&&(h.masterGain=typeof h.ctx.createGain>"u"?h.ctx.createGainNode():h.ctx.createGain(),h.masterGain.gain.setValueAtTime(h._muted?0:h._volume,h.ctx.currentTime),h.masterGain.connect(h.ctx.destination)),h._setup()}};T.Howler=h,T.Howl=c,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=E,commonjsGlobal.Howler=h,commonjsGlobal.Howl=c,commonjsGlobal.Sound=_):typeof window<"u"&&(window.HowlerGlobal=E,window.Howler=h,window.Howl=c,window.Sound=_)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(h){var c=this;if(!c.ctx||!c.ctx.listener)return c;for(var _=c._howls.length-1;_>=0;_--)c._howls[_].stereo(h);return c},HowlerGlobal.prototype.pos=function(h,c,_){var B=this;if(!B.ctx||!B.ctx.listener)return B;if(c=typeof c!="number"?B._pos[1]:c,_=typeof _!="number"?B._pos[2]:_,typeof h=="number")B._pos=[h,c,_],typeof B.ctx.listener.positionX<"u"?(B.ctx.listener.positionX.setTargetAtTime(B._pos[0],Howler.ctx.currentTime,.1),B.ctx.listener.positionY.setTargetAtTime(B._pos[1],Howler.ctx.currentTime,.1),B.ctx.listener.positionZ.setTargetAtTime(B._pos[2],Howler.ctx.currentTime,.1)):B.ctx.listener.setPosition(B._pos[0],B._pos[1],B._pos[2]);else return B._pos;return B},HowlerGlobal.prototype.orientation=function(h,c,_,B,I,z){var o=this;if(!o.ctx||!o.ctx.listener)return o;var v=o._orientation;if(c=typeof c!="number"?v[1]:c,_=typeof _!="number"?v[2]:_,B=typeof B!="number"?v[3]:B,I=typeof I!="number"?v[4]:I,z=typeof z!="number"?v[5]:z,typeof h=="number")o._orientation=[h,c,_,B,I,z],typeof o.ctx.listener.forwardX<"u"?(o.ctx.listener.forwardX.setTargetAtTime(h,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(c,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(_,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(B,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(I,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(z,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(h,c,_,B,I,z);else return v;return o},Howl.prototype.init=function(h){return function(c){var _=this;return _._orientation=c.orientation||[1,0,0],_._stereo=c.stereo||null,_._pos=c.pos||null,_._pannerAttr={coneInnerAngle:typeof c.coneInnerAngle<"u"?c.coneInnerAngle:360,coneOuterAngle:typeof c.coneOuterAngle<"u"?c.coneOuterAngle:360,coneOuterGain:typeof c.coneOuterGain<"u"?c.coneOuterGain:0,distanceModel:typeof c.distanceModel<"u"?c.distanceModel:"inverse",maxDistance:typeof c.maxDistance<"u"?c.maxDistance:1e4,panningModel:typeof c.panningModel<"u"?c.panningModel:"HRTF",refDistance:typeof c.refDistance<"u"?c.refDistance:1,rolloffFactor:typeof c.rolloffFactor<"u"?c.rolloffFactor:1},_._onstereo=c.onstereo?[{fn:c.onstereo}]:[],_._onpos=c.onpos?[{fn:c.onpos}]:[],_._onorientation=c.onorientation?[{fn:c.onorientation}]:[],h.call(this,c)}}(Howl.prototype.init),Howl.prototype.stereo=function(h,c){var _=this;if(!_._webAudio)return _;if(_._state!=="loaded")return _._queue.push({event:"stereo",action:function(){_.stereo(h,c)}}),_;var B=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof c>"u")if(typeof h=="number")_._stereo=h,_._pos=[h,0,0];else return _._stereo;for(var I=_._getSoundIds(c),z=0;z<I.length;z++){var o=_._soundById(I[z]);if(o)if(typeof h=="number")o._stereo=h,o._pos=[h,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",(!o._panner||!o._panner.pan)&&E(o,B),B==="spatial"?typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(h,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(h,0,0):o._panner.pan.setValueAtTime(h,Howler.ctx.currentTime)),_._emit("stereo",o._id);else return o._stereo}return _},Howl.prototype.pos=function(h,c,_,B){var I=this;if(!I._webAudio)return I;if(I._state!=="loaded")return I._queue.push({event:"pos",action:function(){I.pos(h,c,_,B)}}),I;if(c=typeof c!="number"?0:c,_=typeof _!="number"?-.5:_,typeof B>"u")if(typeof h=="number")I._pos=[h,c,_];else return I._pos;for(var z=I._getSoundIds(B),o=0;o<z.length;o++){var v=I._soundById(z[o]);if(v)if(typeof h=="number")v._pos=[h,c,_],v._node&&((!v._panner||v._panner.pan)&&E(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(h,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(c,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(_,Howler.ctx.currentTime)):v._panner.setPosition(h,c,_)),I._emit("pos",v._id);else return v._pos}return I},Howl.prototype.orientation=function(h,c,_,B){var I=this;if(!I._webAudio)return I;if(I._state!=="loaded")return I._queue.push({event:"orientation",action:function(){I.orientation(h,c,_,B)}}),I;if(c=typeof c!="number"?I._orientation[1]:c,_=typeof _!="number"?I._orientation[2]:_,typeof B>"u")if(typeof h=="number")I._orientation=[h,c,_];else return I._orientation;for(var z=I._getSoundIds(B),o=0;o<z.length;o++){var v=I._soundById(z[o]);if(v)if(typeof h=="number")v._orientation=[h,c,_],v._node&&(v._panner||(v._pos||(v._pos=I._pos||[0,0,-.5]),E(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(h,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(c,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(_,Howler.ctx.currentTime)):v._panner.setOrientation(h,c,_)),I._emit("orientation",v._id);else return v._orientation}return I},Howl.prototype.pannerAttr=function(){var h=this,c=arguments,_,B,I;if(!h._webAudio)return h;if(c.length===0)return h._pannerAttr;if(c.length===1)if(typeof c[0]=="object")_=c[0],typeof B>"u"&&(_.pannerAttr||(_.pannerAttr={coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor,panningModel:_.panningModel}),h._pannerAttr={coneInnerAngle:typeof _.pannerAttr.coneInnerAngle<"u"?_.pannerAttr.coneInnerAngle:h._coneInnerAngle,coneOuterAngle:typeof _.pannerAttr.coneOuterAngle<"u"?_.pannerAttr.coneOuterAngle:h._coneOuterAngle,coneOuterGain:typeof _.pannerAttr.coneOuterGain<"u"?_.pannerAttr.coneOuterGain:h._coneOuterGain,distanceModel:typeof _.pannerAttr.distanceModel<"u"?_.pannerAttr.distanceModel:h._distanceModel,maxDistance:typeof _.pannerAttr.maxDistance<"u"?_.pannerAttr.maxDistance:h._maxDistance,refDistance:typeof _.pannerAttr.refDistance<"u"?_.pannerAttr.refDistance:h._refDistance,rolloffFactor:typeof _.pannerAttr.rolloffFactor<"u"?_.pannerAttr.rolloffFactor:h._rolloffFactor,panningModel:typeof _.pannerAttr.panningModel<"u"?_.pannerAttr.panningModel:h._panningModel});else return I=h._soundById(parseInt(c[0],10)),I?I._pannerAttr:h._pannerAttr;else c.length===2&&(_=c[0],B=parseInt(c[1],10));for(var z=h._getSoundIds(B),o=0;o<z.length;o++)if(I=h._soundById(z[o]),I){var v=I._pannerAttr;v={coneInnerAngle:typeof _.coneInnerAngle<"u"?_.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof _.coneOuterAngle<"u"?_.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof _.coneOuterGain<"u"?_.coneOuterGain:v.coneOuterGain,distanceModel:typeof _.distanceModel<"u"?_.distanceModel:v.distanceModel,maxDistance:typeof _.maxDistance<"u"?_.maxDistance:v.maxDistance,refDistance:typeof _.refDistance<"u"?_.refDistance:v.refDistance,rolloffFactor:typeof _.rolloffFactor<"u"?_.rolloffFactor:v.rolloffFactor,panningModel:typeof _.panningModel<"u"?_.panningModel:v.panningModel};var w=I._panner;w||(I._pos||(I._pos=h._pos||[0,0,-.5]),E(I,"spatial"),w=I._panner),w.coneInnerAngle=v.coneInnerAngle,w.coneOuterAngle=v.coneOuterAngle,w.coneOuterGain=v.coneOuterGain,w.distanceModel=v.distanceModel,w.maxDistance=v.maxDistance,w.refDistance=v.refDistance,w.rolloffFactor=v.rolloffFactor,w.panningModel=v.panningModel}return h},Sound.prototype.init=function(h){return function(){var c=this,_=c._parent;c._orientation=_._orientation,c._stereo=_._stereo,c._pos=_._pos,c._pannerAttr=_._pannerAttr,h.call(this),c._stereo?_.stereo(c._stereo):c._pos&&_.pos(c._pos[0],c._pos[1],c._pos[2],c._id)}}(Sound.prototype.init),Sound.prototype.reset=function(h){return function(){var c=this,_=c._parent;return c._orientation=_._orientation,c._stereo=_._stereo,c._pos=_._pos,c._pannerAttr=_._pannerAttr,c._stereo?_.stereo(c._stereo):c._pos?_.pos(c._pos[0],c._pos[1],c._pos[2],c._id):c._panner&&(c._panner.disconnect(0),c._panner=void 0,_._refreshBuffer(c)),h.call(this)}}(Sound.prototype.reset);var E=function(h,c){c=c||"spatial",c==="spatial"?(h._panner=Howler.ctx.createPanner(),h._panner.coneInnerAngle=h._pannerAttr.coneInnerAngle,h._panner.coneOuterAngle=h._pannerAttr.coneOuterAngle,h._panner.coneOuterGain=h._pannerAttr.coneOuterGain,h._panner.distanceModel=h._pannerAttr.distanceModel,h._panner.maxDistance=h._pannerAttr.maxDistance,h._panner.refDistance=h._pannerAttr.refDistance,h._panner.rolloffFactor=h._pannerAttr.rolloffFactor,h._panner.panningModel=h._pannerAttr.panningModel,typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(h._pos[0],Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(h._pos[1],Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(h._pos[2],Howler.ctx.currentTime)):h._panner.setPosition(h._pos[0],h._pos[1],h._pos[2]),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(h._orientation[0],Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(h._orientation[1],Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(h._orientation[2],Howler.ctx.currentTime)):h._panner.setOrientation(h._orientation[0],h._orientation[1],h._orientation[2])):(h._panner=Howler.ctx.createStereoPanner(),h._panner.pan.setValueAtTime(h._stereo,Howler.ctx.currentTime)),h._panner.connect(h._node),h._paused||h._parent.pause(h._id,!0).play(h._id,!0)}})()})(howler);function createRNBODevice(T,E){return rnbo_webaudioExports.createDevice({context:T,patcher:E})}function connectAudioNodes(T,E,h,c){try{h!==void 0&&c!==void 0?T.connect(E,h,c):h!==void 0?T.connect(E,h):T.connect(E)}catch{}}const useAudioStore=defineStore("audio",{state:()=>({audioContext:new AudioContext,nodes:new Map,playing:!1,scene:"Lagoon",acusticCheckResult:0,scenePlayer:null,noisePlayer:null}),actions:{async checkAndResumeAudioContext(){if(this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("AudioContext resumed successfully.")}catch(T){console.error("Failed to resume AudioContext:",T),this.resetAudioContext()}if(this.audioContext.state==="closed")try{this.resetAudioContext(),console.log("AudioContext resumed successfully.")}catch(T){console.error("Failed to resume AudioContext:",T),this.resetAudioContext()}},setPlayers({scenePlayer:T,noisePlayer:E}){this.scenePlayer=T,this.noisePlayer=E},isPlaying(){return this.playing},pauseContext(){const T=this.getAudioContext();T&&(T.playbackRate=0,T.suspend())},async getAudioContext(){return Howler.ctx?(Howler.ctx.state==="suspended"&&Howler.ctx.resume(),Howler.ctx.state==="closed"?new AudioContext:Howler.ctx):await this.initializeAudioContext()},getContext(){return this.audioContext?this.audioContext:(this.audioContext=new AudioContext,this.audioContext)},async initializeAudioContext(){return await this.audioContext},resetAudioContext(){this.audioContext.close().then(()=>{this.audioContext=new AudioContext,console.log("AudioContext has been reset and recreated.")})},resetAudioContextHowler(){if(Howler.ctx)Howler.unload();else if(this.audioContext instanceof AudioContext&&this.audioContext.state!=="closed")try{Howler.stop(),Howler.unload(),this.audioContext=null,this.setPlaying(!1)}catch{}},setPlaying(T){this.playing=T},removeNodeByType(T){this.nodes&&this.nodes.has(T)&&this.nodes.delete(T)},getNodeByType(T){return this.nodes instanceof Map?this.nodes.get(T):null},getMicrophoneNode(){return this.nodes.get("microphone")},async getBufferSourceNode(T){const E=this.nodes.has(T);return E||(await this.createBufferSource(T),this.getNodeByType(T))},async createMediaStreamNodeAsync(T){const h=(await this.getAudioContext()).createMediaStreamSource(T);return this.addNode("microphone",h),h},createMediaStreamNode(T){const E=this.audioContext.createMediaStreamSource(T);return this.addNode("microphone",E),E},async createBufferSource(T){const h=(await this.getAudioContext()).createBufferSource();return this.addNode(T,h)},disconnectAllNodes(){this.nodes.length>0&&(this.nodes.forEach(T=>T.node?.disconnect()),this.nodes={})},startNode(T){T.node instanceof AudioBufferSourceNode&&T.node?.start(0)},addNode(T,E){return this.nodes.set(T,{type:T,node:E,started:!1}),{type:T,node:E,started:!1}},connectNodes(T,E,h,c){T&&E&&!c&&!h&&connectAudioNodes(T.node,E.node),T&&E&&h&&!c&&connectAudioNodes(T.node,E.node,h),T&&E&&h&&c&&connectAudioNodes(T.node,E.node,h,c),E.type&&T.nextNodeName&&(T.nextNodeName=E.type),E.previousNodeName=T.type},startAllSources(){const T=useNuxtApp(),h=useUserStore(T.$pinia).user;this.nodes.forEach((c,_)=>{const B=h.settings.soundscape==="x"?"tropics":h.settings.soundscape||"meadow";(_===B||_==="noise")&&c.node instanceof AudioBufferSourceNode&&!c.started&&this.startBufferSourceNode(c.node)})},startBufferSourceNode(T){this.nodes.forEach(E=>{E.node===T&&(E.node.start(0),E.started=!0)})},replaceMusicNode(T,E){!this.nodes.has(T.type)||this.nodes.has(E.type),T.node instanceof AudioBufferSourceNode||T.node instanceof AudioBufferSourceNode;const h=T.nextNodeName?this.nodes.get(T.nextNodeName):null;if(!(!h||h&&h.node instanceof ChannelSplitterNode)){if(T.node?.disconnect(),T.started=!1,T={},E&&E.node)return h.type&&(E.nextNodeName=h.type),E.node.connect(h?.node),E}return E}}});export{createRNBODevice as c,howler as h,rnbo_webaudioExports as r,useAudioStore as u};
